import React from"react";import{ModelProcessor,covidWorker}from"model";export const webWorker=()=>{const code=covidWorker.toString(),blob=new Blob(["("+code+")()"]);return new Worker(URL.createObjectURL(blob))};export var Theme;!function(Theme){Theme.LIGHT="light",Theme.DARK="dark"}(Theme||(Theme={}));export const ctx={theme:Theme.DARK,processor:new ModelProcessor([]),updating:!1,toggleTheme:()=>{switch(ctx.theme){case Theme.DARK:ctx.theme=Theme.LIGHT;break;default:case Theme.LIGHT:ctx.theme=Theme.DARK}},updateModel:()=>{const worker=webWorker();ctx.updating||(worker.onmessage=e=>{ctx.processor=new ModelProcessor(e.data),ctx.updating=!1},worker.postMessage(ctx.updating),ctx.updating=!0)}};export const Context=React.createContext(ctx);export default Context;