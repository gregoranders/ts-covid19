import e from"react";import{render as ne}from"react-dom";import{Workbox as ce}from"workbox-window";import h from"application";const ie=(()=>{const e=document.head.querySelector("base");if(e){const t=e.getAttribute("href");if(t)return t}return"/"})();export const bootstrap=async(t=!0)=>{const r=document.querySelector("#app");if(!r)throw Error("Missing element `#app`");if(ne(e.createElement(h,{basename:ie}),r),t&&navigator.serviceWorker){const e=new ce(`${ie}serviceWorker.js?base=${ie}`);e.register().then(async()=>{const t=await e.active;t.onstatechange=()=>{"redundant"===t.state&&location.reload()}}).catch(console.error)}};export default bootstrap;