import e from"react";import{render as be}from"react-dom";import{Workbox as he}from"workbox-window";import y from"application";const we=(()=>{const e=document.head.querySelector("base");if(e){const r=e.getAttribute("href");if(r)return r}return"/"})();export const bootstrap=async(r=!0)=>{const t=document.querySelector("#app");if(!t)throw Error("Missing element `#app`");if(be(e.createElement(y,{basename:we}),t),r&&navigator.serviceWorker){const e=new he(`${we}serviceWorker.js?base=${we}`);e.register().then(async()=>{const r=await e.active;r.onstatechange=()=>{"redundant"===r.state&&location.reload()}}).catch(console.error)}};export default bootstrap;