import{selector as ge}from"recoil";export const VersionSelector=ge({key:"versionAsyncSelector",get:()=>new Promise((e,r)=>{navigator.serviceWorker?navigator.serviceWorker.ready.then(o=>{const s=o.active||o.installing||o.waiting;if(!s)return void console.error("Missing serviceWorker");const t=new MessageChannel;t.port1.onmessage=r=>{e(r.data)},t.port1.onmessageerror=e=>{r(e)},s.postMessage({type:"GET_VERSION"},{transfer:[t.port2]})}).catch(console.error):r()})});export default VersionSelector;