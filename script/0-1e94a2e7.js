(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return o}));var n=a(8),r=a.n(n);const s=r.a.shape({confirmed:r.a.number.isRequired,deaths:r.a.number.isRequired,recovered:r.a.number.isRequired,timestamp:r.a.number.isRequired}).isRequired,o=r.a.shape({country:r.a.string.isRequired,state:r.a.string.isRequired,lat:r.a.number.isRequired,lon:r.a.number.isRequired,population:r.a.number.isRequired,values:r.a.arrayOf(s).isRequired}).isRequired},21:function(e,t,a){"use strict";a.d(t,"a",(function(){return y})),a.d(t,"b",(function(){return g}));var n=a(15),r=a(29),s=a(0),o=a.n(s),c=a(22),l=(a(8),a(13)),i=a(16),u=a(20);o.a.Component;o.a.Component;var p=function(e,t){return"function"==typeof e?e(t):e},m=function(e,t){return"string"==typeof e?Object(c.c)(e,null,null,t):e},d=function(e){return e},f=o.a.forwardRef;void 0===f&&(f=d);var h=f((function(e,t){var a=e.innerRef,n=e.navigate,r=e.onClick,s=Object(i.a)(e,["innerRef","navigate","onClick"]),c=s.target,u=Object(l.a)({},s,{onClick:function(e){try{r&&r(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||c&&"_self"!==c||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),n())}});return u.ref=d!==f&&t||a,o.a.createElement("a",u)}));var y=f((function(e,t){var a=e.component,r=void 0===a?h:a,s=e.replace,c=e.to,y=e.innerRef,v=Object(i.a)(e,["component","replace","to","innerRef"]);return o.a.createElement(n.e.Consumer,null,(function(e){e||Object(u.a)(!1);var a=e.history,n=m(p(c,e.location),e.location),i=n?a.createHref(n):"",h=Object(l.a)({},v,{href:i,navigate:function(){var t=p(c,e.location);(s?a.replace:a.push)(t)}});return d!==f?h.ref=t||y:h.innerRef=y,o.a.createElement(r,h)}))})),v=function(e){return e},b=o.a.forwardRef;void 0===b&&(b=v);var g=b((function(e,t){var a=e["aria-current"],r=void 0===a?"page":a,s=e.activeClassName,c=void 0===s?"active":s,d=e.activeStyle,f=e.className,h=e.exact,g=e.isActive,E=e.location,O=e.strict,R=e.style,_=e.to,C=e.innerRef,k=Object(i.a)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","strict","style","to","innerRef"]);return o.a.createElement(n.e.Consumer,null,(function(e){e||Object(u.a)(!1);var a=E||e.location,s=m(p(_,a),a),i=s.pathname,w=i&&i.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),N=w?Object(n.f)(a.pathname,{path:w,exact:h,strict:O}):null,j=!!(g?g(N,a):N),q=j?function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((function(e){return e})).join(" ")}(f,c):f,S=j?Object(l.a)({},R,{},d):R,D=Object(l.a)({"aria-current":j&&r||null,className:q,style:S,to:s},k);return v!==b?D.ref=t||C:D.innerRef=C,o.a.createElement(y,D)}))}))},30:function(e,t,a){"use strict";a.d(t,"a",(function(){return V}));var n=a(0),r=a.n(n),s=a(8),o=a.n(s),c="_3KxrVgLSYRSAbdatw-1rt9",l="_V96JD3PEs1VXevJsy4V5",i=a(12),u="_2NyXajw3HWRS22N9-62SV0",p="_1A5fQvB9DcVlt6wmRVgR0q",m="_13fwCRRDpx1Ru6RXAVJDU",d=a(21);const f=({to:e,children:t})=>r.a.createElement(d.b,{className:p,activeClassName:m,to:e},t);f.displayName="NavigationLink",f.propTypes={to:o.a.string.isRequired,children:o.a.string.isRequired};var h="NaptN3rjGenMgLZRBODV3",y="iVnnRdgIpyjErxSYM6z_6",v="_1bBOO6VfHVelW4biQbwP1V",b=a(25),g=a(9);const E=()=>{const e={undefined:!1,fieldSeparator:",",lineSeparator:"\n",quote:'"'},t=(e,t)=>{if(!t.undefined||e.length)return e},a=(e,t,a)=>{t.push(e),a.field++,a.fieldOffset=-1,a.appendField=!1},n=(e,t,a)=>{t.push(e),a.field=0,a.line++,a.lineOffset=-1,a.appendRow=!1},r=(r,s=e)=>new Promise(o=>{((r,s=e)=>{const o=Object.assign({},e,s),c={field:0,fieldOffset:0,line:0,lineOffset:0,quoted:!1,appendCell:!1,appendField:!1,appendRow:!1};return new Promise((e,s)=>{if(r.length){const l=[];let i=[],u="";for(let e=0;e<r.length;e++)c.appendCell=!0,r[e]===o.quote?e&&"\\"!==r[e-1]?(!u.length||c.quoted?c.quoted=!c.quoted:s(Error(`Invalid CSV text at offset ${c.line}:${c.lineOffset}`)),c.appendCell=!1):u=u.substr(0,u.length-1):r[e]===o.fieldSeparator?c.quoted||(c.appendCell=!1,c.appendField=!0):r[e]===o.lineSeparator&&(c.quoted||(c.appendCell=!1,c.appendField=!0,c.appendRow=!0)),c.appendCell&&(u+=r[e]),c.appendField&&(a(t(u,o),i,c),u=""),c.appendRow&&(n(i,l,c),i=[]),c.lineOffset++,c.fieldOffset++;i.length&&(a(t(u,o),i,c),n(i,l,c)),e(l)}else s(Error("Empty CSV text"))})})(r,s).then(e=>{const t=e[0].filter(e=>"string"==typeof e);o(e.filter((e,t)=>t>0).map(e=>{const a={};return t.forEach((t,n)=>{a[t]=e[n]}),a}))})});class s{map(e){return e.map(e=>this._map(e)).sort((e,t)=>{const a=e.country.localeCompare(t.country);return 0===a?e.state.localeCompare(t.state):a})}_map(e){const t={values:[]};return Object.keys(e).forEach(a=>{if(a.match(/State/))t.state=e[a];else if(a.match(/Country/))t.country=e[a].replace(/\*/,"");else if(a.match(/Lat/))t.lat=parseFloat(e[a]);else if(a.match(/Long/))t.lon=parseFloat(e[a]);else{const n=parseInt(e[a],10),r=new Date(a),s=Date.UTC(r.getFullYear(),r.getMonth(),r.getDate());t.values.push({timestamp:s,value:n})}}),t.values.sort((e,t)=>e.timestamp-t.timestamp),Object.freeze(t)}}class o{map(e){return e.map(e=>this._map(e)).sort((e,t)=>{const a=e.country.localeCompare(t.country);return 0===a?e.state.localeCompare(t.state):a})}_map(e){const t={};return Object.keys(e).forEach(a=>{a.match(/State/)?t.state=e[a]:a.match(/Country/)?t.country=e[a].replace(/\*/,""):a.match(/Lat/)?t.lat=parseFloat(e[a]):a.match(/Long/)?t.lon=parseFloat(e[a]):a.match(/Population/)?t.population=parseInt(e[a]):a.match(/UID/)?t.uid=parseInt(e[a]):a.match(/iso2/)?t.iso2=e[a]:a.match(/iso3/)?t.iso3=e[a]:a.match(/code3/)?t.code3=parseInt(e[a]):a.match(/FIPS/)?t.fips=parseInt(e[a]):a.match(/Admin2/)&&(t.admin2=e[a])}),Object.freeze(t)}}let c;!function(e){e.CONFIRMED="confirmed",e.DEATHS="deaths",e.RECOVERED="recovered",e.LOOKUP="lookup"}(c||(c={}));class l{constructor(e=new s,t=new o){this._modelMapper=e,this._lookupMapper=t}async collect(){const e=await this._fetchLookup(),t=await this._fetchModel(c.CONFIRMED),a=await this._fetchModel(c.DEATHS),n=await this._fetchModel(c.RECOVERED);return this.merge(t,a,n,e)}findSeries(e,t){const a=t.find(t=>t.timestamp===e);return a?a.value:0}async merge(e,t,a,n){return new Promise(r=>{const s=e.filter(e=>"Canada"!==e.country||"Recovered"!==e.state).map(e=>{const r=n.find(t=>{let a=t.country.localeCompare(e.country);return 0===a&&(a=t.state.localeCompare(e.state)),0===a}),s=t.find(t=>t.country===e.country&&t.state===e.state),o=a.find(t=>t.country===e.country&&t.state===e.state),c=e.values.map(e=>Object.freeze({confirmed:e.value,deaths:this.findSeries(e.timestamp,s?s.values:[]),recovered:this.findSeries(e.timestamp,o?o.values:[]),timestamp:e.timestamp}));return Object.freeze({country:e.country,lat:e.lat,lon:e.lon,state:e.state,population:r&&r.population||0,values:Object.freeze(c)})});r(Object.freeze(s))})}async _fetchModel(e){return this._fetch(e).then(e=>r(e)).then(e=>this._modelMapper.map(e))}async _fetchLookup(){return this._fetch(c.LOOKUP).then(e=>r(e)).then(e=>this._lookupMapper.map(e))}async _fetch(e){return fetch(this._fetchUrl(e),{headers:this._fetchHeaders(),method:"GET"}).then(e=>e.text())}_fetchHeaders(){return{"Accept-Encoding":"gzip, deflate, br"}}_fetchUrl(e){const t="https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/";return e===c.LOOKUP?t+"UID_ISO_FIPS_LookUp_Table.csv":`https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data//csse_covid_19_time_series/time_series_covid19_${e}_global.csv`}}self.onmessage=e=>{if(!e)return;if(!0===e.data)return void self.postMessage(!1);(new l).collect().then(e=>{self.postMessage(e)}).catch(e=>{self.postMessage(e)})}};let O=!1;const R=(e=>{const t=e.toString(),a=new Blob(["("+t+")()"]);return new Worker(URL.createObjectURL(a))})(E),_=e=>{let t="";return"string"==typeof e?t=e:e instanceof Array?e.forEach(e=>{t+=" "+e}):e instanceof Object&&Object.keys(e).forEach((a,n)=>{e[a]&&(t+=`${n>0?" ":""}${a}`)}),t};const C=Object(i.c)(e=>({processor:e.modelProcessor}),e=>({update:()=>(e=>(O||(R.onmessage=t=>{O=!1,t&&t.data&&t.data.length&&e({type:b.b,payload:new g.a(t.data)})},R.postMessage(O),O=!0),e({type:b.a})))(e)})),k=({processor:e,update:t})=>{Object(n.useEffect)(()=>{e.model.length||t()});const a={};a[h]=!0,a[y]=new Boolean(e.model.length).valueOf();let s=null;return e.model.length&&(s=new Date(e.model[0].values[e.model[0].values.length-1].timestamp)),r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:v},s?e.utc(s):""),r.a.createElement("span",{className:_(a),onClick:t},r.a.createElement("i",{className:"fas fa-cloud-download-alt"})))};k.displayName="UpdateButton",k.propTypes={processor:o.a.instanceOf(g.a).isRequired,update:o.a.func.isRequired};const w=C(k);const N=e=>({bookmarks:e.system.bookmarks}),j=()=>{const{bookmarks:e}=Object(i.e)(N);return r.a.createElement("nav",{className:u},r.a.createElement("ol",null,r.a.createElement("li",null,r.a.createElement(f,{to:"/"},"ts-covid19")),(e=>e&&e.length?e.sort((e,t)=>e.country.localeCompare(t.country)).map((e,t)=>{let a=e.country,n=e.country;return e.state&&e.state.length&&(a+="/"+e.state,n+=" - "+e.state),r.a.createElement("li",{key:t},r.a.createElement(f,{to:a},n))}):null)(e)),r.a.createElement(w,null))};j.displayName="Navigation";const q=()=>r.a.createElement("header",{className:l},r.a.createElement(j,null));q.displayName="Header";var S="_1PDbAeZ0pxuBdfDNhaQjo7";const D=({author:e,year:t})=>r.a.createElement("footer",{className:S},r.a.createElement("p",null,"Â© ",t," by ",e));D.displayName="Footer",D.propTypes={author:o.a.string.isRequired,year:o.a.number.isRequired},D.defaultProps={author:"Gregor Anders",year:(new Date).getFullYear()};const V=({children:e})=>r.a.createElement("div",{className:c},r.a.createElement(q,null),r.a.createElement("main",null,e),r.a.createElement(D,null));V.displayName="DefaultTemplate",V.defaultProps={children:r.a.createElement("h1",null,"Missing Template Content")},V.propTypes={children:o.a.oneOfType([o.a.element.isRequired,o.a.arrayOf(o.a.element).isRequired]).isRequired}},32:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(0),r=a.n(n),s=a(12),o=a(10),c="w6RU6e-GLVq82DNgjvs2L",l=a(27);const i=({model:e})=>{const t=Object(s.d)();return r.a.createElement("span",{className:c,onClick:()=>{t(((e,t="")=>({payload:{bookmarks:[{country:e,state:t}]},type:l.b}))(e.country,e.state))}},r.a.createElement("i",{className:"fas fa-star"}))};i.displayName="ActiveBookmark",i.propTypes={model:o.a};const u=({model:e})=>{const t=Object(s.d)();return r.a.createElement("span",{className:c,onClick:()=>{t(((e,t="")=>({payload:{bookmarks:[{country:e,state:t}]},type:l.a}))(e.country,e.state))}},r.a.createElement("i",{className:"far fa-star"}))};u.displayName="Bookmark",u.propTypes={model:o.a};const p=e=>({bookmarks:e.system.bookmarks}),m=({model:e})=>{const{bookmarks:t}=Object(s.e)(p);return t.find(t=>t.country===e.country&&t.state===e.state)?r.a.createElement(i,{model:e}):r.a.createElement(u,{model:e})};m.displayName="Country",m.propTypes={model:o.a}}}]);