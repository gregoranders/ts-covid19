function ht(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function vt(t){var n;return 1===t.length&&(n=t,t=function(t,r){return ht(n(t),r)}),{left:function(n,r,e,o){for(null==e&&(e=0),null==o&&(o=n.length);e<o;){var f=e+o>>>1;t(n[f],r)<0?e=f+1:o=f}return e},right:function(n,r,e,o){for(null==e&&(e=0),null==o&&(o=n.length);e<o;){var f=e+o>>>1;t(n[f],r)>0?o=f:e=f+1}return e}}}var Mt=vt(ht),At=Mt.right,xt=Mt.left;function wt(t,n){let r=0;if(void 0===n)for(let n of t)null!=n&&(n=+n)>=n&&++r;else{let e=-1;for(let o of t)null!=(o=n(o,++e,t))&&(o=+o)>=o&&++r}return r}function qt(t){return 0|t.length}function It(t){return!(t>0)}function Nt(t){return"object"!=typeof t||"length"in t?t:Array.from(t)}function kt(...t){const n="function"==typeof t[t.length-1]&&function(t){return n=>t(...n)}(t.pop()),r=(t=t.map(Nt)).map(qt),e=t.length-1,o=new Array(e+1).fill(0),f=[];if(e<0||r.some(It))return f;for(;;){f.push(o.map((n,r)=>t[r][n]));let a=e;for(;++o[a]===r[a];){if(0===a)return n?f.map(n):f;o[a--]=0}}}function St(t,n){var r=0,e=0;return Float64Array.from(t,void 0===n?t=>r+=+t||0:o=>r+=+n(o,e++,t)||0)}function Ft(t,n){return n<t?-1:n>t?1:n>=t?0:NaN}function Lt(t,n){let r,e=0,o=0,f=0;if(void 0===n)for(let n of t)null!=n&&(n=+n)>=n&&(r=n-o,o+=r/++e,f+=r*(n-o));else{let a=-1;for(let u of t)null!=(u=n(u,++a,t))&&(u=+u)>=u&&(r=u-o,o+=r/++e,f+=r*(u-o))}if(e>1)return f/(e-1)}function _t(t,n){const r=Lt(t,n);return r?Math.sqrt(r):r}function zt(t,n){let r,e;if(void 0===n)for(const n of t)null!=n&&(void 0===r?n>=n&&(r=e=n):(r>n&&(r=n),e<n&&(e=n)));else{let o=-1;for(let f of t)null!=(f=n(f,++o,t))&&(void 0===r?f>=f&&(r=e=f):(r>f&&(r=f),e<f&&(e=f)))}return[r,e]}function jt(t){return t}function Dt(t,...n){return Et(t,jt,jt,n)}function Rt(t,...n){return Et(t,Array.from,jt,n)}function Bt(t,n,...r){return Et(t,jt,n,r)}function Ct(t,n,...r){return Et(t,Array.from,n,r)}function Et(t,n,r,e){return function t(o,f){if(f>=e.length)return r(o);const a=new Map,u=e[f++];let i=-1;for(const t of o){const n=u(t,++i,o),r=a.get(n);r?r.push(t):a.set(n,[t])}for(const[n,r]of a)a.set(n,t(r,f));return n(a)}(t,0)}var Gt=Array.prototype.slice;function Ht(t){return function(){return t}}function Jt(t,n,r){t=+t,n=+n,r=(o=arguments.length)<2?(n=t,t=0,1):o<3?1:+r;for(var e=-1,o=0|Math.max(0,Math.ceil((n-t)/r)),f=new Array(o);++e<o;)f[e]=t+e*r;return f}var Kt=Math.sqrt(50),Pt=Math.sqrt(10),Qt=Math.sqrt(2);function Tt(t,n,r){var e,o,f,a,u=-1;if(r=+r,(t=+t)==(n=+n)&&r>0)return[t];if((e=n<t)&&(o=t,t=n,n=o),0===(a=Ut(t,n,r))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),n=Math.floor(n/a),f=new Array(o=Math.ceil(n-t+1));++u<o;)f[u]=(t+u)*a;else for(t=Math.floor(t*a),n=Math.ceil(n*a),f=new Array(o=Math.ceil(t-n+1));++u<o;)f[u]=(t-u)/a;return e&&f.reverse(),f}function Ut(t,n,r){var e=(n-t)/Math.max(0,r),o=Math.floor(Math.log(e)/Math.LN10),f=e/Math.pow(10,o);return o>=0?(f>=Kt?10:f>=Pt?5:f>=Qt?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(f>=Kt?10:f>=Pt?5:f>=Qt?2:1)}function Vt(t,n,r){var e=Math.abs(n-t)/Math.max(0,r),o=Math.pow(10,Math.floor(Math.log(e)/Math.LN10)),f=e/o;return f>=Kt?o*=10:f>=Pt?o*=5:f>=Qt&&(o*=2),n<t?-o:o}function Wt(t){return Math.ceil(Math.log(wt(t))/Math.LN2)+1}function Xt(){var t=jt,n=zt,r=Wt;function e(e){Array.isArray(e)||(e=Array.from(e));var o,f,a=e.length,u=new Array(a);for(o=0;o<a;++o)u[o]=t(e[o],o,e);var i=n(u),l=i[0],s=i[1],c=r(u,l,s);Array.isArray(c)||(c=Vt(l,s,c),c=Jt(Math.ceil(l/c)*c,s,c));for(var h=c.length;c[0]<=l;)c.shift(),--h;for(;c[h-1]>s;)c.pop(),--h;var d,g=new Array(h+1);for(o=0;o<=h;++o)(d=g[o]=[]).x0=o>0?c[o-1]:l,d.x1=o<h?c[o]:s;for(o=0;o<a;++o)l<=(f=u[o])&&f<=s&&g[At(c,f,0,h)].push(e[o]);return g}return e.value=function(n){return arguments.length?(t="function"==typeof n?n:Ht(n),e):t},e.domain=function(t){return arguments.length?(n="function"==typeof t?t:Ht([t[0],t[1]]),e):n},e.thresholds=function(t){return arguments.length?(r="function"==typeof t?t:Array.isArray(t)?Ht(Gt.call(t)):Ht(t),e):r},e}function Yt(t,n){let r;if(void 0===n)for(const n of t)null!=n&&(r<n||void 0===r&&n>=n)&&(r=n);else{let e=-1;for(let o of t)null!=(o=n(o,++e,t))&&(r<o||void 0===r&&o>=o)&&(r=o)}return r}function Zt(t,n){let r;if(void 0===n)for(const n of t)null!=n&&(r>n||void 0===r&&n>=n)&&(r=n);else{let e=-1;for(let o of t)null!=(o=n(o,++e,t))&&(r>o||void 0===r&&o>=o)&&(r=o)}return r}function $t(t,n,r=0,e=t.length-1,o=ht){for(;e>r;){if(e-r>600){const f=e-r+1,a=n-r+1,u=Math.log(f),i=.5*Math.exp(2*u/3),l=.5*Math.sqrt(u*i*(f-i)/f)*(a-f/2<0?-1:1);$t(t,n,Math.max(r,Math.floor(n-a*i/f+l)),Math.min(e,Math.floor(n+(f-a)*i/f+l)),o)}const f=t[n];let a=r,u=e;for(tn(t,r,n),o(t[e],f)>0&&tn(t,r,e);a<u;){for(tn(t,a,u),++a,--u;o(t[a],f)<0;)++a;for(;o(t[u],f)>0;)--u}0===o(t[r],f)?tn(t,r,u):(++u,tn(t,u,e)),u<=n&&(r=u+1),n<=u&&(e=u-1)}return t}function tn(t,n,r){const e=t[n];t[n]=t[r],t[r]=e}function nn(t){return null===t?NaN:+t}function rn(t,n,r){if(e=(t=Float64Array.from(function*(t,n){if(void 0===n)for(let n of t)null!=n&&(n=+n)>=n&&(yield n);else{let r=-1;for(let e of t)null!=(e=n(e,++r,t))&&(e=+e)>=e&&(yield e)}}(t,r))).length){if((n=+n)<=0||e<2)return Zt(t);if(n>=1)return Yt(t);var e,o=(e-1)*n,f=Math.floor(o),a=Yt($t(t,f).subarray(0,f+1));return a+(Zt(t.subarray(f+1))-a)*(o-f)}}function en(t,n,r=nn){if(e=t.length){if((n=+n)<=0||e<2)return+r(t[0],0,t);if(n>=1)return+r(t[e-1],e-1,t);var e,o=(e-1)*n,f=Math.floor(o),a=+r(t[f],f,t);return a+(+r(t[f+1],f+1,t)-a)*(o-f)}}function on(t,n,r){return Math.ceil((r-n)/(2*(rn(t,.75)-rn(t,.25))*Math.pow(wt(t),-1/3)))}function fn(t,n,r){return Math.ceil((r-n)/(3.5*_t(t)*Math.pow(wt(t),-1/3)))}function an(t,n){let r,e=-1,o=-1;if(void 0===n)for(const n of t)++o,null!=n&&(r<n||void 0===r&&n>=n)&&(r=n,e=o);else for(let f of t)null!=(f=n(f,++o,t))&&(r<f||void 0===r&&f>=f)&&(r=f,e=o);return e}function un(t,n){let r=0,e=0;if(void 0===n)for(let n of t)null!=n&&(n=+n)>=n&&(++r,e+=n);else{let o=-1;for(let f of t)null!=(f=n(f,++o,t))&&(f=+f)>=f&&(++r,e+=f)}if(r)return e/r}function ln(t,n){return rn(t,.5,n)}function sn(t){return Array.from(function*(t){for(const n of t)yield*n}(t))}function cn(t,n){let r,e=-1,o=-1;if(void 0===n)for(const n of t)++o,null!=n&&(r>n||void 0===r&&n>=n)&&(r=n,e=o);else for(let f of t)null!=(f=n(f,++o,t))&&(r>f||void 0===r&&f>=f)&&(r=f,e=o);return e}function hn(t,n=dn){const r=[];let e,o=!1;for(const f of t)o&&r.push(n(e,f)),e=f,o=!0;return r}function dn(t,n){return[t,n]}function gn(t,n){return Array.from(n,n=>t[n])}function vn(t,n=ht){let r,e=!1;if(1===n.length){let o;for(const f of t){const t=n(f);(e?ht(t,o)<0:0===ht(t,t))&&(r=f,o=t,e=!0)}}else for(const o of t)(e?n(o,r)<0:0===n(o,o))&&(r=o,e=!0);return r}function mn(t,n=ht){if(1===n.length)return cn(t,n);let r,e=-1,o=-1;for(const f of t)++o,(e<0?0===n(f,f):n(f,r)<0)&&(r=f,e=o);return e}function pn(t,n=ht){let r,e=!1;if(1===n.length){let o;for(const f of t){const t=n(f);(e?ht(t,o)>0:0===ht(t,t))&&(r=f,o=t,e=!0)}}else for(const o of t)(e?n(o,r)>0:0===n(o,o))&&(r=o,e=!0);return r}function Mn(t,n=ht){if(1===n.length)return an(t,n);let r,e=-1,o=-1;for(const f of t)++o,(e<0?0===n(f,f):n(f,r)>0)&&(r=f,e=o);return e}function yn(t,n){const r=mn(t,n);return r<0?void 0:r}function An(t,n=0,r=t.length){for(var e,o,f=r-(n=+n);f;)o=Math.random()*f--|0,e=t[f+n],t[f+n]=t[o+n],t[o+n]=e;return t}function xn(t,n){let r=0;if(void 0===n)for(let n of t)(n=+n)&&(r+=n);else{let e=-1;for(let o of t)(o=+n(o,++e,t))&&(r+=o)}return r}function bn(t){if(!(o=t.length))return[];for(var n=-1,r=Zt(t,wn),e=new Array(r);++n<r;)for(var o,f=-1,a=e[n]=new Array(o);++f<o;)a[f]=t[f][n];return e}function wn(t){return t.length}function qn(){return bn(arguments)}var In=Object.freeze({__proto__:null,bisect:At,bisectRight:At,bisectLeft:xt,ascending:ht,bisector:vt,count:wt,cross:kt,cumsum:St,descending:Ft,deviation:_t,extent:zt,group:Dt,groups:Rt,rollup:Bt,rollups:Ct,bin:Xt,histogram:Xt,thresholdFreedmanDiaconis:on,thresholdScott:fn,thresholdSturges:Wt,max:Yt,maxIndex:an,mean:un,median:ln,merge:sn,min:Zt,minIndex:cn,pairs:hn,permute:gn,quantile:rn,quantileSorted:en,quickselect:$t,range:Jt,least:vn,leastIndex:mn,greatest:pn,greatestIndex:Mn,scan:yn,shuffle:An,sum:xn,ticks:Tt,tickIncrement:Ut,tickStep:Vt,transpose:bn,variance:Lt,zip:qn});export default In;export{ht as ascending,Xt as bin,At as bisect,xt as bisectLeft,At as bisectRight,vt as bisector,wt as count,kt as cross,St as cumsum,In as d3Array,Ft as descending,_t as deviation,zt as extent,pn as greatest,Mn as greatestIndex,Dt as group,Rt as groups,Xt as histogram,vn as least,mn as leastIndex,Yt as max,an as maxIndex,un as mean,ln as median,sn as merge,Zt as min,cn as minIndex,hn as pairs,gn as permute,rn as quantile,en as quantileSorted,$t as quickselect,Jt as range,Bt as rollup,Ct as rollups,yn as scan,An as shuffle,xn as sum,on as thresholdFreedmanDiaconis,fn as thresholdScott,Wt as thresholdSturges,Ut as tickIncrement,Vt as tickStep,Tt as ticks,bn as transpose,Lt as variance,qn as zip};