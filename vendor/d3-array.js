function nt(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function ft(t){var n;return 1===t.length&&(n=t,t=function(t,r){return nt(n(t),r)}),{left:function(n,r,e,o){for(null==e&&(e=0),null==o&&(o=n.length);e<o;){var f=e+o>>>1;t(n[f],r)<0?e=f+1:o=f}return e},right:function(n,r,e,o){for(null==e&&(e=0),null==o&&(o=n.length);e<o;){var f=e+o>>>1;t(n[f],r)>0?o=f:e=f+1}return e}}}var ut=ft(nt),it=ut.right,lt=ut.left;function st(t,n){let r=0;if(void 0===n)for(let n of t)null!=n&&(n=+n)>=n&&++r;else{let e=-1;for(let o of t)null!=(o=n(o,++e,t))&&(o=+o)>=o&&++r}return r}function ht(t){return 0|t.length}function dt(t){return!(t>0)}function gt(t){return"object"!=typeof t||"length"in t?t:Array.from(t)}function vt(...t){const n="function"==typeof t[t.length-1]&&function(t){return n=>t(...n)}(t.pop()),r=(t=t.map(gt)).map(ht),e=t.length-1,o=new Array(e+1).fill(0),f=[];if(e<0||r.some(dt))return f;for(;;){f.push(o.map((n,r)=>t[r][n]));let a=e;for(;++o[a]===r[a];){if(0===a)return n?f.map(n):f;o[a--]=0}}}function mt(t,n){var r=0,e=0;return Float64Array.from(t,void 0===n?t=>r+=+t||0:o=>r+=+n(o,e++,t)||0)}function pt(t,n){return n<t?-1:n>t?1:n>=t?0:NaN}function Mt(t,n){let r,e=0,o=0,f=0;if(void 0===n)for(let n of t)null!=n&&(n=+n)>=n&&(r=n-o,o+=r/++e,f+=r*(n-o));else{let a=-1;for(let u of t)null!=(u=n(u,++a,t))&&(u=+u)>=u&&(r=u-o,o+=r/++e,f+=r*(u-o))}if(e>1)return f/(e-1)}function yt(t,n){const r=Mt(t,n);return r?Math.sqrt(r):r}function At(t,n){let r,e;if(void 0===n)for(const n of t)null!=n&&(void 0===r?n>=n&&(r=e=n):(r>n&&(r=n),e<n&&(e=n)));else{let o=-1;for(let f of t)null!=(f=n(f,++o,t))&&(void 0===r?f>=f&&(r=e=f):(r>f&&(r=f),e<f&&(e=f)))}return[r,e]}function xt(t){return t}function bt(t,...n){return Nt(t,xt,xt,n)}function wt(t,...n){return Nt(t,Array.from,xt,n)}function qt(t,n,...r){return Nt(t,xt,n,r)}function It(t,n,...r){return Nt(t,Array.from,n,r)}function Nt(t,n,r,e){return function t(o,f){if(f>=e.length)return r(o);const a=new Map,u=e[f++];let i=-1;for(const t of o){const n=u(t,++i,o),r=a.get(n);r?r.push(t):a.set(n,[t])}for(const[n,r]of a)a.set(n,t(r,f));return n(a)}(t,0)}var kt=Array.prototype.slice;function St(t){return function(){return t}}function Ft(t,n,r){t=+t,n=+n,r=(o=arguments.length)<2?(n=t,t=0,1):o<3?1:+r;for(var e=-1,o=0|Math.max(0,Math.ceil((n-t)/r)),f=new Array(o);++e<o;)f[e]=t+e*r;return f}var Lt=Math.sqrt(50),_t=Math.sqrt(10),zt=Math.sqrt(2);function jt(t,n,r){var e,o,f,a,u=-1;if(r=+r,(t=+t)==(n=+n)&&r>0)return[t];if((e=n<t)&&(o=t,t=n,n=o),0===(a=Dt(t,n,r))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),n=Math.floor(n/a),f=new Array(o=Math.ceil(n-t+1));++u<o;)f[u]=(t+u)*a;else for(t=Math.floor(t*a),n=Math.ceil(n*a),f=new Array(o=Math.ceil(t-n+1));++u<o;)f[u]=(t-u)/a;return e&&f.reverse(),f}function Dt(t,n,r){var e=(n-t)/Math.max(0,r),o=Math.floor(Math.log(e)/Math.LN10),f=e/Math.pow(10,o);return o>=0?(f>=Lt?10:f>=_t?5:f>=zt?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(f>=Lt?10:f>=_t?5:f>=zt?2:1)}function Rt(t,n,r){var e=Math.abs(n-t)/Math.max(0,r),o=Math.pow(10,Math.floor(Math.log(e)/Math.LN10)),f=e/o;return f>=Lt?o*=10:f>=_t?o*=5:f>=zt&&(o*=2),n<t?-o:o}function Ot(t){return Math.ceil(Math.log(st(t))/Math.LN2)+1}function Bt(){var t=xt,n=At,r=Ot;function e(e){Array.isArray(e)||(e=Array.from(e));var o,f,a=e.length,u=new Array(a);for(o=0;o<a;++o)u[o]=t(e[o],o,e);var i=n(u),l=i[0],s=i[1],c=r(u,l,s);Array.isArray(c)||(c=Rt(l,s,c),c=Ft(Math.ceil(l/c)*c,s,c));for(var h=c.length;c[0]<=l;)c.shift(),--h;for(;c[h-1]>s;)c.pop(),--h;var d,g=new Array(h+1);for(o=0;o<=h;++o)(d=g[o]=[]).x0=o>0?c[o-1]:l,d.x1=o<h?c[o]:s;for(o=0;o<a;++o)l<=(f=u[o])&&f<=s&&g[it(c,f,0,h)].push(e[o]);return g}return e.value=function(n){return arguments.length?(t="function"==typeof n?n:St(n),e):t},e.domain=function(t){return arguments.length?(n="function"==typeof t?t:St([t[0],t[1]]),e):n},e.thresholds=function(t){return arguments.length?(r="function"==typeof t?t:Array.isArray(t)?St(kt.call(t)):St(t),e):r},e}function Ct(t,n){let r;if(void 0===n)for(const n of t)null!=n&&(r<n||void 0===r&&n>=n)&&(r=n);else{let e=-1;for(let o of t)null!=(o=n(o,++e,t))&&(r<o||void 0===r&&o>=o)&&(r=o)}return r}function Et(t,n){let r;if(void 0===n)for(const n of t)null!=n&&(r>n||void 0===r&&n>=n)&&(r=n);else{let e=-1;for(let o of t)null!=(o=n(o,++e,t))&&(r>o||void 0===r&&o>=o)&&(r=o)}return r}function Gt(t,n,r=0,e=t.length-1,o=nt){for(;e>r;){if(e-r>600){const f=e-r+1,a=n-r+1,u=Math.log(f),i=.5*Math.exp(2*u/3),l=.5*Math.sqrt(u*i*(f-i)/f)*(a-f/2<0?-1:1);Gt(t,n,Math.max(r,Math.floor(n-a*i/f+l)),Math.min(e,Math.floor(n+(f-a)*i/f+l)),o)}const f=t[n];let a=r,u=e;for(Ht(t,r,n),o(t[e],f)>0&&Ht(t,r,e);a<u;){for(Ht(t,a,u),++a,--u;o(t[a],f)<0;)++a;for(;o(t[u],f)>0;)--u}0===o(t[r],f)?Ht(t,r,u):(++u,Ht(t,u,e)),u<=n&&(r=u+1),n<=u&&(e=u-1)}return t}function Ht(t,n,r){const e=t[n];t[n]=t[r],t[r]=e}function Jt(t){return null===t?NaN:+t}function Kt(t,n,r){if(e=(t=Float64Array.from(function*(t,n){if(void 0===n)for(let n of t)null!=n&&(n=+n)>=n&&(yield n);else{let r=-1;for(let e of t)null!=(e=n(e,++r,t))&&(e=+e)>=e&&(yield e)}}(t,r))).length){if((n=+n)<=0||e<2)return Et(t);if(n>=1)return Ct(t);var e,o=(e-1)*n,f=Math.floor(o),a=Ct(Gt(t,f).subarray(0,f+1));return a+(Et(t.subarray(f+1))-a)*(o-f)}}function Pt(t,n,r=Jt){if(e=t.length){if((n=+n)<=0||e<2)return+r(t[0],0,t);if(n>=1)return+r(t[e-1],e-1,t);var e,o=(e-1)*n,f=Math.floor(o),a=+r(t[f],f,t);return a+(+r(t[f+1],f+1,t)-a)*(o-f)}}function Qt(t,n,r){return Math.ceil((r-n)/(2*(Kt(t,.75)-Kt(t,.25))*Math.pow(st(t),-1/3)))}function Tt(t,n,r){return Math.ceil((r-n)/(3.5*yt(t)*Math.pow(st(t),-1/3)))}function Ut(t,n){let r,e=-1,o=-1;if(void 0===n)for(const n of t)++o,null!=n&&(r<n||void 0===r&&n>=n)&&(r=n,e=o);else for(let f of t)null!=(f=n(f,++o,t))&&(r<f||void 0===r&&f>=f)&&(r=f,e=o);return e}function Vt(t,n){let r=0,e=0;if(void 0===n)for(let n of t)null!=n&&(n=+n)>=n&&(++r,e+=n);else{let o=-1;for(let f of t)null!=(f=n(f,++o,t))&&(f=+f)>=f&&(++r,e+=f)}if(r)return e/r}function Wt(t,n){return Kt(t,.5,n)}function Xt(t){return Array.from(function*(t){for(const n of t)yield*n}(t))}function Yt(t,n){let r,e=-1,o=-1;if(void 0===n)for(const n of t)++o,null!=n&&(r>n||void 0===r&&n>=n)&&(r=n,e=o);else for(let f of t)null!=(f=n(f,++o,t))&&(r>f||void 0===r&&f>=f)&&(r=f,e=o);return e}function Zt(t,n=$t){const r=[];let e,o=!1;for(const f of t)o&&r.push(n(e,f)),e=f,o=!0;return r}function $t(t,n){return[t,n]}function tn(t,n){return Array.from(n,n=>t[n])}function nn(t,n=nt){let r,e=!1;if(1===n.length){let o;for(const f of t){const t=n(f);(e?nt(t,o)<0:0===nt(t,t))&&(r=f,o=t,e=!0)}}else for(const o of t)(e?n(o,r)<0:0===n(o,o))&&(r=o,e=!0);return r}function rn(t,n=nt){if(1===n.length)return Yt(t,n);let r,e=-1,o=-1;for(const f of t)++o,(e<0?0===n(f,f):n(f,r)<0)&&(r=f,e=o);return e}function en(t,n=nt){let r,e=!1;if(1===n.length){let o;for(const f of t){const t=n(f);(e?nt(t,o)>0:0===nt(t,t))&&(r=f,o=t,e=!0)}}else for(const o of t)(e?n(o,r)>0:0===n(o,o))&&(r=o,e=!0);return r}function on(t,n=nt){if(1===n.length)return Ut(t,n);let r,e=-1,o=-1;for(const f of t)++o,(e<0?0===n(f,f):n(f,r)>0)&&(r=f,e=o);return e}function fn(t,n){const r=rn(t,n);return r<0?void 0:r}function an(t,n=0,r=t.length){for(var e,o,f=r-(n=+n);f;)o=Math.random()*f--|0,e=t[f+n],t[f+n]=t[o+n],t[o+n]=e;return t}function un(t,n){let r=0;if(void 0===n)for(let n of t)(n=+n)&&(r+=n);else{let e=-1;for(let o of t)(o=+n(o,++e,t))&&(r+=o)}return r}function ln(t){if(!(o=t.length))return[];for(var n=-1,r=Et(t,sn),e=new Array(r);++n<r;)for(var o,f=-1,a=e[n]=new Array(o);++f<o;)a[f]=t[f][n];return e}function sn(t){return t.length}function cn(){return ln(arguments)}var hn=Object.freeze({__proto__:null,bisect:it,bisectRight:it,bisectLeft:lt,ascending:nt,bisector:ft,count:st,cross:vt,cumsum:mt,descending:pt,deviation:yt,extent:At,group:bt,groups:wt,rollup:qt,rollups:It,bin:Bt,histogram:Bt,thresholdFreedmanDiaconis:Qt,thresholdScott:Tt,thresholdSturges:Ot,max:Ct,maxIndex:Ut,mean:Vt,median:Wt,merge:Xt,min:Et,minIndex:Yt,pairs:Zt,permute:tn,quantile:Kt,quantileSorted:Pt,quickselect:Gt,range:Ft,least:nn,leastIndex:rn,greatest:en,greatestIndex:on,scan:fn,shuffle:an,sum:un,ticks:jt,tickIncrement:Dt,tickStep:Rt,transpose:ln,variance:Mt,zip:cn});export default hn;export{nt as ascending,Bt as bin,it as bisect,lt as bisectLeft,it as bisectRight,ft as bisector,st as count,vt as cross,mt as cumsum,hn as d3Array,pt as descending,yt as deviation,At as extent,en as greatest,on as greatestIndex,bt as group,wt as groups,Bt as histogram,nn as least,rn as leastIndex,Ct as max,Ut as maxIndex,Vt as mean,Wt as median,Xt as merge,Et as min,Yt as minIndex,Zt as pairs,tn as permute,Kt as quantile,Pt as quantileSorted,Gt as quickselect,Ft as range,qt as rollup,It as rollups,fn as scan,an as shuffle,un as sum,Qt as thresholdFreedmanDiaconis,Tt as thresholdScott,Ot as thresholdSturges,Dt as tickIncrement,Rt as tickStep,jt as ticks,ln as transpose,Mt as variance,cn as zip};