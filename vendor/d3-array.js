function nt(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function rt(t){var n;return 1===t.length&&(n=t,t=function(t,r){return nt(n(t),r)}),{left:function(n,r,e,o){for(null==e&&(e=0),null==o&&(o=n.length);e<o;){var f=e+o>>>1;t(n[f],r)<0?e=f+1:o=f}return e},right:function(n,r,e,o){for(null==e&&(e=0),null==o&&(o=n.length);e<o;){var f=e+o>>>1;t(n[f],r)>0?o=f:e=f+1}return e}}}var ft=rt(nt),at=ft.right,ut=ft.left;function it(t,n){let r=0;if(void 0===n)for(let n of t)null!=n&&(n=+n)>=n&&++r;else{let e=-1;for(let o of t)null!=(o=n(o,++e,t))&&(o=+o)>=o&&++r}return r}function lt(t){return 0|t.length}function st(t){return!(t>0)}function ct(t){return"object"!=typeof t||"length"in t?t:Array.from(t)}function ht(...t){const n="function"==typeof t[t.length-1]&&function(t){return n=>t(...n)}(t.pop()),r=(t=t.map(ct)).map(lt),e=t.length-1,o=new Array(e+1).fill(0),f=[];if(e<0||r.some(st))return f;for(;;){f.push(o.map((n,r)=>t[r][n]));let a=e;for(;++o[a]===r[a];){if(0===a)return n?f.map(n):f;o[a--]=0}}}function dt(t,n){var r=0,e=0;return Float64Array.from(t,void 0===n?t=>r+=+t||0:o=>r+=+n(o,e++,t)||0)}function gt(t,n){return n<t?-1:n>t?1:n>=t?0:NaN}function vt(t,n){let r,e=0,o=0,f=0;if(void 0===n)for(let n of t)null!=n&&(n=+n)>=n&&(r=n-o,o+=r/++e,f+=r*(n-o));else{let a=-1;for(let u of t)null!=(u=n(u,++a,t))&&(u=+u)>=u&&(r=u-o,o+=r/++e,f+=r*(u-o))}if(e>1)return f/(e-1)}function mt(t,n){const r=vt(t,n);return r?Math.sqrt(r):r}function pt(t,n){let r,e;if(void 0===n)for(const n of t)null!=n&&(void 0===r?n>=n&&(r=e=n):(r>n&&(r=n),e<n&&(e=n)));else{let o=-1;for(let f of t)null!=(f=n(f,++o,t))&&(void 0===r?f>=f&&(r=e=f):(r>f&&(r=f),e<f&&(e=f)))}return[r,e]}function Mt(t){return t}function yt(t,...n){return wt(t,Mt,Mt,n)}function At(t,...n){return wt(t,Array.from,Mt,n)}function xt(t,n,...r){return wt(t,Mt,n,r)}function bt(t,n,...r){return wt(t,Array.from,n,r)}function wt(t,n,r,e){return function t(o,f){if(f>=e.length)return r(o);const a=new Map,u=e[f++];let i=-1;for(const t of o){const n=u(t,++i,o),r=a.get(n);r?r.push(t):a.set(n,[t])}for(const[n,r]of a)a.set(n,t(r,f));return n(a)}(t,0)}var qt=Array.prototype.slice;function It(t){return function(){return t}}function Nt(t,n,r){t=+t,n=+n,r=(o=arguments.length)<2?(n=t,t=0,1):o<3?1:+r;for(var e=-1,o=0|Math.max(0,Math.ceil((n-t)/r)),f=new Array(o);++e<o;)f[e]=t+e*r;return f}var kt=Math.sqrt(50),St=Math.sqrt(10),Ft=Math.sqrt(2);function Lt(t,n,r){var e,o,f,a,u=-1;if(r=+r,(t=+t)==(n=+n)&&r>0)return[t];if((e=n<t)&&(o=t,t=n,n=o),0===(a=_t(t,n,r))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),n=Math.floor(n/a),f=new Array(o=Math.ceil(n-t+1));++u<o;)f[u]=(t+u)*a;else for(t=Math.floor(t*a),n=Math.ceil(n*a),f=new Array(o=Math.ceil(t-n+1));++u<o;)f[u]=(t-u)/a;return e&&f.reverse(),f}function _t(t,n,r){var e=(n-t)/Math.max(0,r),o=Math.floor(Math.log(e)/Math.LN10),f=e/Math.pow(10,o);return o>=0?(f>=kt?10:f>=St?5:f>=Ft?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(f>=kt?10:f>=St?5:f>=Ft?2:1)}function zt(t,n,r){var e=Math.abs(n-t)/Math.max(0,r),o=Math.pow(10,Math.floor(Math.log(e)/Math.LN10)),f=e/o;return f>=kt?o*=10:f>=St?o*=5:f>=Ft&&(o*=2),n<t?-o:o}function jt(t){return Math.ceil(Math.log(it(t))/Math.LN2)+1}function Dt(){var t=Mt,n=pt,r=jt;function e(e){Array.isArray(e)||(e=Array.from(e));var o,f,a=e.length,u=new Array(a);for(o=0;o<a;++o)u[o]=t(e[o],o,e);var i=n(u),l=i[0],s=i[1],c=r(u,l,s);Array.isArray(c)||(c=zt(l,s,c),c=Nt(Math.ceil(l/c)*c,s,c));for(var h=c.length;c[0]<=l;)c.shift(),--h;for(;c[h-1]>s;)c.pop(),--h;var d,g=new Array(h+1);for(o=0;o<=h;++o)(d=g[o]=[]).x0=o>0?c[o-1]:l,d.x1=o<h?c[o]:s;for(o=0;o<a;++o)l<=(f=u[o])&&f<=s&&g[at(c,f,0,h)].push(e[o]);return g}return e.value=function(n){return arguments.length?(t="function"==typeof n?n:It(n),e):t},e.domain=function(t){return arguments.length?(n="function"==typeof t?t:It([t[0],t[1]]),e):n},e.thresholds=function(t){return arguments.length?(r="function"==typeof t?t:Array.isArray(t)?It(qt.call(t)):It(t),e):r},e}function Rt(t,n){let r;if(void 0===n)for(const n of t)null!=n&&(r<n||void 0===r&&n>=n)&&(r=n);else{let e=-1;for(let o of t)null!=(o=n(o,++e,t))&&(r<o||void 0===r&&o>=o)&&(r=o)}return r}function Ot(t,n){let r;if(void 0===n)for(const n of t)null!=n&&(r>n||void 0===r&&n>=n)&&(r=n);else{let e=-1;for(let o of t)null!=(o=n(o,++e,t))&&(r>o||void 0===r&&o>=o)&&(r=o)}return r}function Bt(t,n,r=0,e=t.length-1,o=nt){for(;e>r;){if(e-r>600){const f=e-r+1,a=n-r+1,u=Math.log(f),i=.5*Math.exp(2*u/3),l=.5*Math.sqrt(u*i*(f-i)/f)*(a-f/2<0?-1:1);Bt(t,n,Math.max(r,Math.floor(n-a*i/f+l)),Math.min(e,Math.floor(n+(f-a)*i/f+l)),o)}const f=t[n];let a=r,u=e;for(Ct(t,r,n),o(t[e],f)>0&&Ct(t,r,e);a<u;){for(Ct(t,a,u),++a,--u;o(t[a],f)<0;)++a;for(;o(t[u],f)>0;)--u}0===o(t[r],f)?Ct(t,r,u):(++u,Ct(t,u,e)),u<=n&&(r=u+1),n<=u&&(e=u-1)}return t}function Ct(t,n,r){const e=t[n];t[n]=t[r],t[r]=e}function Et(t){return null===t?NaN:+t}function Gt(t,n,r){if(e=(t=Float64Array.from(function*(t,n){if(void 0===n)for(let n of t)null!=n&&(n=+n)>=n&&(yield n);else{let r=-1;for(let e of t)null!=(e=n(e,++r,t))&&(e=+e)>=e&&(yield e)}}(t,r))).length){if((n=+n)<=0||e<2)return Ot(t);if(n>=1)return Rt(t);var e,o=(e-1)*n,f=Math.floor(o),a=Rt(Bt(t,f).subarray(0,f+1));return a+(Ot(t.subarray(f+1))-a)*(o-f)}}function Ht(t,n,r=Et){if(e=t.length){if((n=+n)<=0||e<2)return+r(t[0],0,t);if(n>=1)return+r(t[e-1],e-1,t);var e,o=(e-1)*n,f=Math.floor(o),a=+r(t[f],f,t);return a+(+r(t[f+1],f+1,t)-a)*(o-f)}}function Jt(t,n,r){return Math.ceil((r-n)/(2*(Gt(t,.75)-Gt(t,.25))*Math.pow(it(t),-1/3)))}function Kt(t,n,r){return Math.ceil((r-n)/(3.5*mt(t)*Math.pow(it(t),-1/3)))}function Pt(t,n){let r,e=-1,o=-1;if(void 0===n)for(const n of t)++o,null!=n&&(r<n||void 0===r&&n>=n)&&(r=n,e=o);else for(let f of t)null!=(f=n(f,++o,t))&&(r<f||void 0===r&&f>=f)&&(r=f,e=o);return e}function Qt(t,n){let r=0,e=0;if(void 0===n)for(let n of t)null!=n&&(n=+n)>=n&&(++r,e+=n);else{let o=-1;for(let f of t)null!=(f=n(f,++o,t))&&(f=+f)>=f&&(++r,e+=f)}if(r)return e/r}function Tt(t,n){return Gt(t,.5,n)}function Ut(t){return Array.from(function*(t){for(const n of t)yield*n}(t))}function Vt(t,n){let r,e=-1,o=-1;if(void 0===n)for(const n of t)++o,null!=n&&(r>n||void 0===r&&n>=n)&&(r=n,e=o);else for(let f of t)null!=(f=n(f,++o,t))&&(r>f||void 0===r&&f>=f)&&(r=f,e=o);return e}function Wt(t,n=Xt){const r=[];let e,o=!1;for(const f of t)o&&r.push(n(e,f)),e=f,o=!0;return r}function Xt(t,n){return[t,n]}function Yt(t,n){return Array.from(n,n=>t[n])}function Zt(t,n=nt){let r,e=!1;if(1===n.length){let o;for(const f of t){const t=n(f);(e?nt(t,o)<0:0===nt(t,t))&&(r=f,o=t,e=!0)}}else for(const o of t)(e?n(o,r)<0:0===n(o,o))&&(r=o,e=!0);return r}function $t(t,n=nt){if(1===n.length)return Vt(t,n);let r,e=-1,o=-1;for(const f of t)++o,(e<0?0===n(f,f):n(f,r)<0)&&(r=f,e=o);return e}function tn(t,n=nt){let r,e=!1;if(1===n.length){let o;for(const f of t){const t=n(f);(e?nt(t,o)>0:0===nt(t,t))&&(r=f,o=t,e=!0)}}else for(const o of t)(e?n(o,r)>0:0===n(o,o))&&(r=o,e=!0);return r}function nn(t,n=nt){if(1===n.length)return Pt(t,n);let r,e=-1,o=-1;for(const f of t)++o,(e<0?0===n(f,f):n(f,r)>0)&&(r=f,e=o);return e}function rn(t,n){const r=$t(t,n);return r<0?void 0:r}function en(t,n=0,r=t.length){for(var e,o,f=r-(n=+n);f;)o=Math.random()*f--|0,e=t[f+n],t[f+n]=t[o+n],t[o+n]=e;return t}function on(t,n){let r=0;if(void 0===n)for(let n of t)(n=+n)&&(r+=n);else{let e=-1;for(let o of t)(o=+n(o,++e,t))&&(r+=o)}return r}function fn(t){if(!(o=t.length))return[];for(var n=-1,r=Ot(t,an),e=new Array(r);++n<r;)for(var o,f=-1,a=e[n]=new Array(o);++f<o;)a[f]=t[f][n];return e}function an(t){return t.length}function un(){return fn(arguments)}var ln=Object.freeze({__proto__:null,bisect:at,bisectRight:at,bisectLeft:ut,ascending:nt,bisector:rt,count:it,cross:ht,cumsum:dt,descending:gt,deviation:mt,extent:pt,group:yt,groups:At,rollup:xt,rollups:bt,bin:Dt,histogram:Dt,thresholdFreedmanDiaconis:Jt,thresholdScott:Kt,thresholdSturges:jt,max:Rt,maxIndex:Pt,mean:Qt,median:Tt,merge:Ut,min:Ot,minIndex:Vt,pairs:Wt,permute:Yt,quantile:Gt,quantileSorted:Ht,quickselect:Bt,range:Nt,least:Zt,leastIndex:$t,greatest:tn,greatestIndex:nn,scan:rn,shuffle:en,sum:on,ticks:Lt,tickIncrement:_t,tickStep:zt,transpose:fn,variance:vt,zip:un});export default ln;export{nt as ascending,Dt as bin,at as bisect,ut as bisectLeft,at as bisectRight,rt as bisector,it as count,ht as cross,dt as cumsum,ln as d3Array,gt as descending,mt as deviation,pt as extent,tn as greatest,nn as greatestIndex,yt as group,At as groups,Dt as histogram,Zt as least,$t as leastIndex,Rt as max,Pt as maxIndex,Qt as mean,Tt as median,Ut as merge,Ot as min,Vt as minIndex,Wt as pairs,Yt as permute,Gt as quantile,Ht as quantileSorted,Bt as quickselect,Nt as range,xt as rollup,bt as rollups,rn as scan,en as shuffle,on as sum,Jt as thresholdFreedmanDiaconis,Kt as thresholdScott,jt as thresholdSturges,_t as tickIncrement,zt as tickStep,Lt as ticks,fn as transpose,vt as variance,un as zip};