import{utcMonday as Dr,utcDay as Tr,timeMonday as Cr,timeDay as Ur,utcYear as Fr,utcSunday as Lr,utcThursday as Hr,timeYear as Yr,timeSunday as Zr,timeThursday as Wr}from"d3-time";function Vr(n){if(0<=n.y&&n.y<100){var t=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return t.setFullYear(n.y),t}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function qr(n){if(0<=n.y&&n.y<100){var t=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return t.setUTCFullYear(n.y),t}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function Ir(n,t,e){return{y:n,m:t,d:e,H:0,M:0,S:0,L:0}}function kr(n){var t=n.dateTime,e=n.date,r=n.time,u=n.periods,o=n.days,i=n.shortDays,c=n.months,a=n.shortMonths,f=Kr(u),l=nu(u),s=Kr(o),g=nu(o),h=Kr(i),y=nu(i),m=Kr(c),d=nu(c),v=Kr(a),D=nu(a),M={a:function(n){return i[n.getDay()]},A:function(n){return o[n.getDay()]},b:function(n){return a[n.getMonth()]},B:function(n){return c[n.getMonth()]},c:null,d:Cu,e:Cu,f:pu,H:xu,I:Uu,j:wu,L:Su,m:Fu,M:Lu,p:function(n){return u[+(n.getHours()>=12)]},q:function(n){return 1+~~(n.getMonth()/3)},Q:eo,s:ro,S:Hu,u:Au,U:Yu,V:Zu,w:bu,W:Wu,x:null,X:null,y:Pu,Y:Vu,Z:ju,"%":to},T={a:function(n){return i[n.getUTCDay()]},A:function(n){return o[n.getUTCDay()]},b:function(n){return a[n.getUTCMonth()]},B:function(n){return c[n.getUTCMonth()]},c:null,d:qu,e:qu,f:Xu,H:Iu,I:Ju,j:Ou,L:Qu,m:_u,M:Nu,p:function(n){return u[+(n.getUTCHours()>=12)]},q:function(n){return 1+~~(n.getUTCMonth()/3)},Q:eo,s:ro,S:Bu,u:zu,U:$u,V:Eu,w:Ru,W:ku,x:null,X:null,y:Gu,Y:Ku,Z:no,"%":to},C={a:function(n,t,e){var r=h.exec(t.slice(e));return r?(n.w=y[r[0].toLowerCase()],e+r[0].length):-1},A:function(n,t,e){var r=s.exec(t.slice(e));return r?(n.w=g[r[0].toLowerCase()],e+r[0].length):-1},b:function(n,t,e){var r=v.exec(t.slice(e));return r?(n.m=D[r[0].toLowerCase()],e+r[0].length):-1},B:function(n,t,e){var r=m.exec(t.slice(e));return r?(n.m=d[r[0].toLowerCase()],e+r[0].length):-1},c:function(n,e,r){return w(n,t,e,r)},d:su,e:su,f:vu,H:hu,I:hu,j:gu,L:du,m:lu,M:yu,p:function(n,t,e){var r=f.exec(t.slice(e));return r?(n.p=l[r[0].toLowerCase()],e+r[0].length):-1},q:fu,Q:Mu,s:Tu,S:mu,u:eu,U:ru,V:uu,w:tu,W:ou,x:function(n,t,r){return w(n,e,t,r)},X:function(n,t,e){return w(n,r,t,e)},y:cu,Y:iu,Z:au,"%":Du};function x(n,t){return function(e){var r,u,o,i=[],c=-1,a=0,f=n.length;for(e instanceof Date||(e=new Date(+e));++c<f;)37===n.charCodeAt(c)&&(i.push(n.slice(a,c)),null!=(u=_r[r=n.charAt(++c)])?r=n.charAt(++c):u="e"===r?" ":"0",(o=t[r])&&(r=o(e,u)),i.push(r),a=c+1);return i.push(n.slice(a,c)),i.join("")}}function U(n,t){return function(e){var r,u,o=Ir(1900,void 0,1);if(w(o,n,e+="",0)!=e.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(u=(r=qr(Ir(o.y,0,1))).getUTCDay(),r=u>4||0===u?Dr.ceil(r):Dr(r),r=Tr.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(u=(r=Vr(Ir(o.y,0,1))).getDay(),r=u>4||0===u?Cr.ceil(r):Cr(r),r=Ur.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),u="Z"in o?qr(Ir(o.y,0,1)).getUTCDay():Vr(Ir(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(u+5)%7:o.w+7*o.U-(u+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,qr(o)):Vr(o)}}function w(n,t,e,r){for(var u,o,i=0,c=t.length,a=e.length;i<c;){if(r>=a)return-1;if(37===(u=t.charCodeAt(i++))){if(u=t.charAt(i++),!(o=C[u in _r?t.charAt(i++):u])||(r=o(n,e,r))<0)return-1}else if(u!=e.charCodeAt(r++))return-1}return r}return M.x=x(e,M),M.X=x(r,M),M.c=x(t,M),T.x=x(e,T),T.X=x(r,T),T.c=x(t,T),{format:function(n){var t=x(n+="",M);return t.toString=function(){return n},t},parse:function(n){var t=U(n+="",!1);return t.toString=function(){return n},t},utcFormat:function(n){var t=x(n+="",T);return t.toString=function(){return n},t},utcParse:function(n){var t=U(n+="",!0);return t.toString=function(){return n},t}}}var xr,Jr,Or,Qr,Xr,_r={"-":"",_:" ",0:"0"},Br=/^\s*\d+/,$r=/^%/,Er=/[\\^$*+?|[\]().{}]/g;function Rr(n,t,e){var r=n<0?"-":"",u=(r?-n:n)+"",o=u.length;return r+(o<e?new Array(e-o+1).join(t)+u:u)}function Gr(n){return n.replace(Er,"\\$&")}function Kr(n){return new RegExp("^(?:"+n.map(Gr).join("|")+")","i")}function nu(n){for(var t={},e=-1,r=n.length;++e<r;)t[n[e].toLowerCase()]=e;return t}function tu(n,t,e){var r=Br.exec(t.slice(e,e+1));return r?(n.w=+r[0],e+r[0].length):-1}function eu(n,t,e){var r=Br.exec(t.slice(e,e+1));return r?(n.u=+r[0],e+r[0].length):-1}function ru(n,t,e){var r=Br.exec(t.slice(e,e+2));return r?(n.U=+r[0],e+r[0].length):-1}function uu(n,t,e){var r=Br.exec(t.slice(e,e+2));return r?(n.V=+r[0],e+r[0].length):-1}function ou(n,t,e){var r=Br.exec(t.slice(e,e+2));return r?(n.W=+r[0],e+r[0].length):-1}function iu(n,t,e){var r=Br.exec(t.slice(e,e+4));return r?(n.y=+r[0],e+r[0].length):-1}function cu(n,t,e){var r=Br.exec(t.slice(e,e+2));return r?(n.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function au(n,t,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(e,e+6));return r?(n.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function fu(n,t,e){var r=Br.exec(t.slice(e,e+1));return r?(n.q=3*r[0]-3,e+r[0].length):-1}function lu(n,t,e){var r=Br.exec(t.slice(e,e+2));return r?(n.m=r[0]-1,e+r[0].length):-1}function su(n,t,e){var r=Br.exec(t.slice(e,e+2));return r?(n.d=+r[0],e+r[0].length):-1}function gu(n,t,e){var r=Br.exec(t.slice(e,e+3));return r?(n.m=0,n.d=+r[0],e+r[0].length):-1}function hu(n,t,e){var r=Br.exec(t.slice(e,e+2));return r?(n.H=+r[0],e+r[0].length):-1}function yu(n,t,e){var r=Br.exec(t.slice(e,e+2));return r?(n.M=+r[0],e+r[0].length):-1}function mu(n,t,e){var r=Br.exec(t.slice(e,e+2));return r?(n.S=+r[0],e+r[0].length):-1}function du(n,t,e){var r=Br.exec(t.slice(e,e+3));return r?(n.L=+r[0],e+r[0].length):-1}function vu(n,t,e){var r=Br.exec(t.slice(e,e+6));return r?(n.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function Du(n,t,e){var r=$r.exec(t.slice(e,e+1));return r?e+r[0].length:-1}function Mu(n,t,e){var r=Br.exec(t.slice(e));return r?(n.Q=+r[0],e+r[0].length):-1}function Tu(n,t,e){var r=Br.exec(t.slice(e));return r?(n.s=+r[0],e+r[0].length):-1}function Cu(n,t){return Rr(n.getDate(),t,2)}function xu(n,t){return Rr(n.getHours(),t,2)}function Uu(n,t){return Rr(n.getHours()%12||12,t,2)}function wu(n,t){return Rr(1+Ur.count(Yr(n),n),t,3)}function Su(n,t){return Rr(n.getMilliseconds(),t,3)}function pu(n,t){return Su(n,t)+"000"}function Fu(n,t){return Rr(n.getMonth()+1,t,2)}function Lu(n,t){return Rr(n.getMinutes(),t,2)}function Hu(n,t){return Rr(n.getSeconds(),t,2)}function Au(n){var t=n.getDay();return 0===t?7:t}function Yu(n,t){return Rr(Zr.count(Yr(n)-1,n),t,2)}function Zu(n,t){var e=n.getDay();return n=e>=4||0===e?Wr(n):Wr.ceil(n),Rr(Wr.count(Yr(n),n)+(4===Yr(n).getDay()),t,2)}function bu(n){return n.getDay()}function Wu(n,t){return Rr(Cr.count(Yr(n)-1,n),t,2)}function Pu(n,t){return Rr(n.getFullYear()%100,t,2)}function Vu(n,t){return Rr(n.getFullYear()%1e4,t,4)}function ju(n){var t=n.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Rr(t/60|0,"0",2)+Rr(t%60,"0",2)}function qu(n,t){return Rr(n.getUTCDate(),t,2)}function Iu(n,t){return Rr(n.getUTCHours(),t,2)}function Ju(n,t){return Rr(n.getUTCHours()%12||12,t,2)}function Ou(n,t){return Rr(1+Tr.count(Fr(n),n),t,3)}function Qu(n,t){return Rr(n.getUTCMilliseconds(),t,3)}function Xu(n,t){return Qu(n,t)+"000"}function _u(n,t){return Rr(n.getUTCMonth()+1,t,2)}function Nu(n,t){return Rr(n.getUTCMinutes(),t,2)}function Bu(n,t){return Rr(n.getUTCSeconds(),t,2)}function zu(n){var t=n.getUTCDay();return 0===t?7:t}function $u(n,t){return Rr(Lr.count(Fr(n)-1,n),t,2)}function Eu(n,t){var e=n.getUTCDay();return n=e>=4||0===e?Hr(n):Hr.ceil(n),Rr(Hr.count(Fr(n),n)+(4===Fr(n).getUTCDay()),t,2)}function Ru(n){return n.getUTCDay()}function ku(n,t){return Rr(Dr.count(Fr(n)-1,n),t,2)}function Gu(n,t){return Rr(n.getUTCFullYear()%100,t,2)}function Ku(n,t){return Rr(n.getUTCFullYear()%1e4,t,4)}function no(){return"+0000"}function to(){return"%"}function eo(n){return+n}function ro(n){return Math.floor(+n/1e3)}function zr(n){return xr=kr(n),Jr=xr.format,Or=xr.parse,Qr=xr.utcFormat,Xr=xr.utcParse,xr}zr({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var uo=Date.prototype.toISOString?function(n){return n.toISOString()}:Qr("%Y-%m-%dT%H:%M:%S.%LZ"),oo=+new Date("2000-01-01T00:00:00.000Z")?function(n){var t=new Date(n);return isNaN(t)?null:t}:Xr("%Y-%m-%dT%H:%M:%S.%LZ"),ln=Object.freeze({__proto__:null,timeFormatDefaultLocale:zr,get timeFormat(){return Jr},get timeParse(){return Or},get utcFormat(){return Qr},get utcParse(){return Xr},timeFormatLocale:kr,isoFormat:uo,isoParse:oo});export default ln;export{ln as d3Array,uo as isoFormat,oo as isoParse,Jr as timeFormat,zr as timeFormatDefaultLocale,kr as timeFormatLocale,Or as timeParse,Qr as utcFormat,Xr as utcParse};