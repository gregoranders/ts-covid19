import{rgb as Xn,color as Ee,hsl as Bn,lab as Dn,hcl as Yn,cubehelix as Tn}from"d3-color";function Vn(t,n,r,e,a){var o=t*t,i=o*t;return((1-3*t+3*o-i)*n+(4-6*o+3*i)*r+(1+3*t+3*o-3*i)*e+i*a)/6}function Zn(t){var n=t.length-1;return function(r){var e=r<=0?r=0:r>=1?(r=1,n-1):Math.floor(r*n),a=t[e],o=t[e+1],i=e>0?t[e-1]:2*a-o,u=e<n-1?t[e+2]:2*o-a;return Vn((r-e/n)*n,i,a,o,u)}}function Qn(t){var n=t.length;return function(r){var e=Math.floor(((r%=1)<0?++r:r)*n),a=t[(e+n-1)%n],o=t[e%n],i=t[(e+1)%n],u=t[(e+2)%n];return Vn((r-e/n)*n,a,o,i,u)}}function Ht(t){return function(){return t}}function Fn(t,n){return function(r){return t+r*n}}function Gn(t,n){var r=n-t;return r?Fn(t,r>180||r<-180?r-360*Math.round(r/360):r):Ht(isNaN(t)?n:t)}function Jn(t,n){var r=n-t;return r?Fn(t,r):Ht(isNaN(t)?n:t)}var Oe=function t(n){var r=function(t){return 1==(t=+t)?Jn:function(n,r){return r-n?function(t,n,r){return t=Math.pow(t,r),n=Math.pow(n,r)-t,r=1/r,function(e){return Math.pow(t+e*n,r)}}(n,r,t):Ht(isNaN(n)?r:n)}}(n);function e(t,n){var e=r((t=Xn(t)).r,(n=Xn(n)).r),a=r(t.g,n.g),o=r(t.b,n.b),i=Jn(t.opacity,n.opacity);return function(n){return t.r=e(n),t.g=a(n),t.b=o(n),t.opacity=i(n),t+""}}return e.gamma=t,e}(1);function Kn(t){return function(n){var r,e,a=n.length,o=new Array(a),i=new Array(a),u=new Array(a);for(r=0;r<a;++r)e=Xn(n[r]),o[r]=e.r||0,i[r]=e.g||0,u[r]=e.b||0;return o=t(o),i=t(i),u=t(u),e.opacity=1,function(t){return e.r=o(t),e.g=i(t),e.b=u(t),e+""}}}var Un=Kn(Zn),Wn=Kn(Qn);function yr(t,n){n||(n=[]);var r,e=t?Math.min(n.length,t.length):0,a=n.slice();return function(o){for(r=0;r<e;++r)a[r]=t[r]*(1-o)+n[r]*o;return a}}function br(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function wr(t,n){return(br(n)?yr:Ar)(t,n)}function Ar(t,n){var r,e=n?n.length:0,a=t?Math.min(e,t.length):0,o=new Array(a),i=new Array(e);for(r=0;r<a;++r)o[r]=Br(t[r],n[r]);for(;r<e;++r)i[r]=n[r];return function(t){for(r=0;r<a;++r)i[r]=o[r](t);return i}}function Xr(t,n){var r=new Date;return t=+t,n=+n,function(e){return r.setTime(t*(1-e)+n*e),r}}function nn(t,n){return t=+t,n=+n,function(r){return t*(1-r)+n*r}}function Cr(t,n){var r,e={},a={};for(r in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)r in t?e[r]=Br(t[r],n[r]):a[r]=n[r];return function(t){for(r in e)a[r]=e[r](t);return a}}var Nr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Hr=new RegExp(Nr.source,"g");function Rr(t,n){var r,e,a,o=Nr.lastIndex=Hr.lastIndex=0,i=-1,u=[],l=[];for(t+="",n+="";(r=Nr.exec(t))&&(e=Hr.exec(n));)(a=e.index)>o&&(a=n.slice(o,a),u[i]?u[i]+=a:u[++i]=a),(r=r[0])===(e=e[0])?u[i]?u[i]+=e:u[++i]=e:(u[++i]=null,l.push({i,x:nn(r,e)})),o=Hr.lastIndex;return o<n.length&&(a=n.slice(o),u[i]?u[i]+=a:u[++i]=a),u.length<2?l[0]?function(t){return function(n){return t(n)+""}}(l[0].x):function(t){return function(){return t}}(n):(n=l.length,function(t){for(var r,e=0;e<n;++e)u[(r=l[e]).i]=r.x(t);return u.join("")})}function Br(t,n){var r,e=typeof n;return null==n||"boolean"===e?Ht(n):("number"===e?nn:"string"===e?(r=Ee(n))?(n=r,Oe):Rr:n instanceof Ee?Oe:n instanceof Date?Xr:br(n)?yr:Array.isArray(n)?Ar:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?Cr:nn)(t,n)}function Dr(t){var n=t.length;return function(r){return t[Math.max(0,Math.min(n-1,Math.floor(r*n)))]}}function Lr(t,n){var r=Gn(+t,+n);return function(t){var n=r(t);return n-360*Math.floor(n/360)}}function Sr(t,n){return t=+t,n=+n,function(r){return Math.round(t*(1-r)+n*r)}}var Yr,jr,qr,kr,Ir=180/Math.PI,jt={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Tr(t,n,r,e,a,o){var i,u,l;return(i=Math.sqrt(t*t+n*n))&&(t/=i,n/=i),(l=t*r+n*e)&&(r-=t*l,e-=n*l),(u=Math.sqrt(r*r+e*e))&&(r/=u,e/=u,l/=u),t*e<n*r&&(t=-t,n=-n,l=-l,i=-i),{translateX:a,translateY:o,rotate:Math.atan2(n,t)*Ir,skewX:Math.atan(l)*Ir,scaleX:i,scaleY:u}}function Vr(t,n,r,e){function a(t){return t.length?t.pop()+" ":""}return function(o,i){var u=[],l=[];return o=t(o),i=t(i),function(t,e,a,o,i,u){if(t!==a||e!==o){var l=i.push("translate(",null,n,null,r);u.push({i:l-4,x:nn(t,a)},{i:l-2,x:nn(e,o)})}else(a||o)&&i.push("translate("+a+n+o+r)}(o.translateX,o.translateY,i.translateX,i.translateY,u,l),function(t,n,r,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:r.push(a(r)+"rotate(",null,e)-2,x:nn(t,n)})):n&&r.push(a(r)+"rotate("+n+e)}(o.rotate,i.rotate,u,l),function(t,n,r,o){t!==n?o.push({i:r.push(a(r)+"skewX(",null,e)-2,x:nn(t,n)}):n&&r.push(a(r)+"skewX("+n+e)}(o.skewX,i.skewX,u,l),function(t,n,r,e,o,i){if(t!==r||n!==e){var u=o.push(a(o)+"scale(",null,",",null,")");i.push({i:u-4,x:nn(t,r)},{i:u-2,x:nn(n,e)})}else 1===r&&1===e||o.push(a(o)+"scale("+r+","+e+")")}(o.scaleX,o.scaleY,i.scaleX,i.scaleY,u,l),o=i=null,function(t){for(var n,r=-1,e=l.length;++r<e;)u[(n=l[r]).i]=n.x(t);return u.join("")}}}var Er=Vr((function(t){return"none"===t?jt:(Yr||(Yr=document.createElement("DIV"),jr=document.documentElement,qr=document.defaultView),Yr.style.transform=t,t=qr.getComputedStyle(jr.appendChild(Yr),null).getPropertyValue("transform"),jr.removeChild(Yr),Tr(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),Or=Vr((function(t){return null==t?jt:(kr||(kr=document.createElementNS("http://www.w3.org/2000/svg","g")),kr.setAttribute("transform",t),(t=kr.transform.baseVal.consolidate())?Tr((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):jt)}),", ",")",")"),_r=Math.SQRT2;function zr(t){return((t=Math.exp(t))+1/t)/2}function Pr(t,n){var r,e,a=t[0],o=t[1],i=t[2],u=n[0],l=n[1],s=n[2],c=u-a,f=l-o,p=c*c+f*f;if(p<1e-12)e=Math.log(s/i)/_r,r=function(t){return[a+t*c,o+t*f,i*Math.exp(_r*t*e)]};else{var h=Math.sqrt(p),g=(s*s-i*i+4*p)/(2*i*2*h),v=(s*s-i*i-4*p)/(2*s*2*h),m=Math.log(Math.sqrt(g*g+1)-g),y=Math.log(Math.sqrt(v*v+1)-v);e=(y-m)/_r,r=function(t){var n,r=t*e,u=zr(m),l=i/(2*h)*(u*(n=_r*r+m,((n=Math.exp(2*n))-1)/(n+1))-function(t){return((t=Math.exp(t))-1/t)/2}(m));return[a+l*c,o+l*f,i*u/zr(_r*r+m)]}}return r.duration=1e3*e,r}function Le(t){return function(n,r){var e=t((n=Bn(n)).h,(r=Bn(r)).h),a=Jn(n.s,r.s),o=Jn(n.l,r.l),i=Jn(n.opacity,r.opacity);return function(t){return n.h=e(t),n.s=a(t),n.l=o(t),n.opacity=i(t),n+""}}}var Zr=Le(Gn),Qr=Le(Jn);function Qe(t,n){var r=Jn((t=Dn(t)).l,(n=Dn(n)).l),e=Jn(t.a,n.a),a=Jn(t.b,n.b),o=Jn(t.opacity,n.opacity);return function(n){return t.l=r(n),t.a=e(n),t.b=a(n),t.opacity=o(n),t+""}}function Nn(t){return function(n,r){var e=t((n=Yn(n)).h,(r=Yn(r)).h),a=Jn(n.c,r.c),o=Jn(n.l,r.l),i=Jn(n.opacity,r.opacity);return function(t){return n.h=e(t),n.c=a(t),n.l=o(t),n.opacity=i(t),n+""}}}var Fr=Nn(Gn),Gr=Nn(Jn);function zn(t){return function n(r){function e(n,e){var a=t((n=Tn(n)).h,(e=Tn(e)).h),o=Jn(n.s,e.s),i=Jn(n.l,e.l),u=Jn(n.opacity,e.opacity);return function(t){return n.h=a(t),n.s=o(t),n.l=i(Math.pow(t,r)),n.opacity=u(t),n+""}}return r=+r,e.gamma=n,e}(1)}var Jr=zn(Gn),Kr=zn(Jn);function Ur(t,n){for(var r=0,e=n.length-1,a=n[0],o=new Array(e<0?0:e);r<e;)o[r]=t(a,a=n[++r]);return function(t){var n=Math.max(0,Math.min(e-1,Math.floor(t*=e)));return o[n](t-n)}}function Wr(t,n){for(var r=new Array(n),e=0;e<n;++e)r[e]=t(e/(n-1));return r}var $r=Object.freeze({__proto__:null,interpolate:Br,interpolateArray:wr,interpolateBasis:Zn,interpolateBasisClosed:Qn,interpolateDate:Xr,interpolateDiscrete:Dr,interpolateHue:Lr,interpolateNumber:nn,interpolateNumberArray:yr,interpolateObject:Cr,interpolateRound:Sr,interpolateString:Rr,interpolateTransformCss:Er,interpolateTransformSvg:Or,interpolateZoom:Pr,interpolateRgb:Oe,interpolateRgbBasis:Un,interpolateRgbBasisClosed:Wn,interpolateHsl:Zr,interpolateHslLong:Qr,interpolateLab:Qe,interpolateHcl:Fr,interpolateHclLong:Gr,interpolateCubehelix:Jr,interpolateCubehelixLong:Kr,piecewise:Ur,quantize:Wr});export default $r;export{$r as d3Interpolate,Br as interpolate,wr as interpolateArray,Zn as interpolateBasis,Qn as interpolateBasisClosed,Jr as interpolateCubehelix,Kr as interpolateCubehelixLong,Xr as interpolateDate,Dr as interpolateDiscrete,Fr as interpolateHcl,Gr as interpolateHclLong,Zr as interpolateHsl,Qr as interpolateHslLong,Lr as interpolateHue,Qe as interpolateLab,nn as interpolateNumber,Cr as interpolateObject,Oe as interpolateRgb,Un as interpolateRgbBasis,Wn as interpolateRgbBasisClosed,Sr as interpolateRound,Rr as interpolateString,Er as interpolateTransformCss,Or as interpolateTransformSvg,Pr as interpolateZoom,Ur as piecewise,Wr as quantize};