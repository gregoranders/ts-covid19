(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{44:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(15),s="_526XW6oDzpRVVPr8y45K_",o=a(17),c=a(8),i=a(4),d=a(10),E=a(26),m=a(6),u=a(28),h=a(29),C=a(30);const p=[],R=Object(m.b)(),_=Object(d.c)({model:(e=p,t)=>{switch(t.type){case"MODEL_REQUEST":return[];case"MODEL_RESPONSE":return t.payload;default:return e}},router:Object(o.b)(R)});var S=a(1),O=a.n(S),D="_3yT6nn0dWAHek2N6SF5QXD",f="_3KxrVgLSYRSAbdatw-1rt9",A="_V96JD3PEs1VXevJsy4V5",T="_2NyXajw3HWRS22N9-62SV0",v="_3calS0aV2eqbdFM551AfnX",g="WDuQNtbOBUtMUFonGoy_z",I=a(12);const y=({to:e,children:t})=>r.a.createElement(I.a,{className:v,activeClassName:g,to:e},t);y.displayName="NavLink",y.propTypes={to:O.a.string.isRequired,children:O.a.string.isRequired};var b="NaptN3rjGenMgLZRBODV3",N="iVnnRdgIpyjErxSYM6z_6",V=a(14);const w={undefined:!1,fieldSeparator:",",lineSeparator:"\n",quote:'"'},L=(e,t)=>{if(!t.undefined||e.length)return e},M=(e,t,a)=>{t.push(e),a.field++,a.fieldOffset=-1,a.appendField=!1},F=(e,t,a)=>{t.push(e),a.field=0,a.line++,a.lineOffset=-1,a.appendRow=!1},j=(e,t=w)=>new Promise(a=>{((e,t=w)=>{const a=Object.assign({},w,t),n={field:0,fieldOffset:0,line:0,lineOffset:0,quoted:!1,appendCell:!1,appendField:!1,appendRow:!1};return new Promise((t,r)=>{if(e.length){const l=[];let s=[],o="";for(let t=0;t<e.length;t++)n.appendCell=!0,e[t]===a.quote?t&&"\\"!==e[t-1]?(!o.length||n.quoted?n.quoted=!n.quoted:r(Error(`Invalid CSV text at offset ${n.line}:${n.lineOffset}`)),n.appendCell=!1):o=o.substr(0,o.length-1):e[t]===a.fieldSeparator?n.quoted||(n.appendCell=!1,n.appendField=!0):e[t]===a.lineSeparator&&(n.quoted||(n.appendCell=!1,n.appendField=!0,n.appendRow=!0)),n.appendCell&&(o+=e[t]),n.appendField&&(M(L(o,a),s,n),o=""),n.appendRow&&(F(s,l,n),s=[]),n.lineOffset++,n.fieldOffset++;s.length&&(M(L(o,a),s,n),F(s,l,n)),t(l)}else r(Error("Empty CSV text"))})})(e,t).then(e=>{const t=e[0].filter(e=>"string"==typeof e);a(e.filter((e,t)=>t>0).map(e=>{const a={};return t.forEach((t,n)=>{a[t]=e[n]}),a}))})});class H{map(e){return e.map(e=>this._map(e)).sort((e,t)=>{const a=e.country.localeCompare(t.country);return 0===a?e.state.localeCompare(t.state):a})}_map(e){const t={values:[]};return Object.keys(e).forEach(a=>{if(a.match(/State/))t.state=e[a];else if(a.match(/Country/))t.country=e[a];else if(a.match(/Lat/))t.lat=parseFloat(e[a]);else if(a.match(/Long/))t.lon=parseFloat(e[a]);else{const n=parseInt(e[a],10),r=new Date(a),l=Date.UTC(r.getFullYear(),r.getMonth(),r.getDate());t.values.push({timestamp:l,value:n})}}),t.values.sort((e,t)=>e.timestamp-t.timestamp),Object.freeze(t)}}var q;!function(e){e.CONFIRMED="confirmed",e.DEATHS="deaths",e.RECOVERED="recovered"}(q||(q={}));class U{constructor(e=new H){this._mapper=e}collect(){return Object(V.a)(this,void 0,void 0,(function*(){const e=yield this._fetchModel(q.CONFIRMED),t=yield this._fetchModel(q.DEATHS),a=yield this._fetchModel(q.RECOVERED);return this._merge(e,t,a)}))}_find(e,t){var a;return(null===(a=t.find(t=>t.timestamp===e))||void 0===a?void 0:a.value)||0}_merge(e,t,a){return Object(V.a)(this,void 0,void 0,(function*(){return new Promise(n=>{const r=e.map(e=>{const n=t.find(t=>t.country===e.country&&t.state===e.state),r=a.find(t=>t.country===e.country&&t.state===e.state),l=e.values.map(e=>Object.freeze({confirmed:e.value,deaths:this._find(e.timestamp,n?n.values:[]),recovered:this._find(e.timestamp,r?r.values:[]),timestamp:e.timestamp}));return Object.freeze({country:e.country,lat:e.lat,lon:e.lon,state:e.state,values:Object.freeze(l)})});n(Object.freeze(r))})}))}_fetchModel(e){return Object(V.a)(this,void 0,void 0,(function*(){return this._fetch(e).then(e=>j(e)).then(e=>this._mapper.map(e))}))}_fetch(e){return Object(V.a)(this,void 0,void 0,(function*(){return fetch(this._fetchUrl(e),{headers:this._fetchHeaders(),method:"GET"}).then(e=>e.text())}))}_fetchHeaders(){return{"Accept-Encoding":"gzip, deflate, br"}}_fetchUrl(e){return`https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_${e}_global.csv`}}const k=Object(c.c)(e=>({model:e.model}),e=>({update:()=>(e=>((new U).collect().then(t=>{e({type:"MODEL_RESPONSE",payload:t})}).catch(e=>{console.error(e)}),e({type:"MODEL_REQUEST"})))(e)}));class z extends n.Component{componentDidMount(){this.props.model&&this.props.model.length||this.updateModel()}updateModel(){this.props.update()}render(){const e=this.props.model.length?b:N;return r.a.createElement("span",{className:e,onClick:()=>{this.updateModel()}},r.a.createElement("i",{className:"fas fa-cloud-download-alt"}))}}z.displayName="UpdateButtonComponent";var x=k(z);const P=()=>r.a.createElement("nav",{className:T},r.a.createElement("ol",null,r.a.createElement("li",null,r.a.createElement(y,{to:"/"},"ts-covid19")),r.a.createElement("li",null,r.a.createElement(y,{to:"/Germany"},"Germany")),r.a.createElement("li",null,r.a.createElement(y,{to:"/US"},"US")),r.a.createElement("li",null,r.a.createElement(y,{to:"/Poland"},"Poland")),r.a.createElement("li",null,r.a.createElement(y,{to:"/Russia"},"Russia")),r.a.createElement("li",null,r.a.createElement(y,{to:"/United%20Kingdom"},"United Kingdom"))),r.a.createElement(x,null));P.displayName="Navigation";const Y=()=>r.a.createElement("header",{className:A},r.a.createElement(P,null));Y.displayName="Header";var W="_1PDbAeZ0pxuBdfDNhaQjo7";const G=e=>r.a.createElement("footer",{className:W},r.a.createElement("p",null,"Â© ",e.year," by ",e.author));G.displayName="Footer",G.propTypes={author:O.a.string,year:O.a.number},G.defaultProps={author:"Gregor Anders",year:(new Date).getFullYear()};const Q=({children:e})=>r.a.createElement("div",{className:f},r.a.createElement(Y,null),r.a.createElement("section",null,e),r.a.createElement(G,null));Q.displayName="DefaultTemplate",Q.defaultProps={children:r.a.createElement("h1",null,"Missing Template Content")},Q.propTypes={children:O.a.element.isRequired};const X=O.a.shape({confirmed:O.a.number.isRequired,deaths:O.a.number.isRequired,recovered:O.a.number.isRequired,timestamp:O.a.number.isRequired}).isRequired,B=O.a.shape({country:O.a.string.isRequired,state:O.a.string.isRequired,lat:O.a.number.isRequired,lon:O.a.number.isRequired,values:O.a.arrayOf(X).isRequired}).isRequired;var K="_2KFXQkdnZwRv9T_ry8v-wV";class ${constructor(e){this._model=[],this._model=e.map(e=>Object.assign(Object.assign({},e),{values:e.values.map(e=>Object.assign({},e))}))}get model(){return this._model}name(e){return e.state&&e.state.length?`${e.country} - ${e.state}`:e.country}find(e,t){return this._model.find(a=>t&&t.length?a.country===e&&a.state===t:a.country===e)}sort(e){return this._model.sort(e)}}const J=({model:e,index:t})=>{const a=e.values[e.values.length-2],n=e.values[e.values.length-1],l=a.confirmed-a.deaths-a.recovered,s=n.confirmed-n.deaths-n.recovered,o=n.confirmed?n.deaths/n.confirmed*100:0,c=n.confirmed?n.recovered/n.confirmed*100:0,i=n.confirmed?s/n.confirmed*100:0,d=s-l;let E=""+e.country,m=""+e.country;return e.state&&e.state.length&&(E+="/"+e.state,m+=" - "+e.state),r.a.createElement("tr",null,r.a.createElement("td",null,t),r.a.createElement("td",null,r.a.createElement(I.a,{to:E},m)),r.a.createElement("td",null,n.confirmed.toLocaleString(),r.a.createElement("span",null,"(",(n.confirmed-a.confirmed).toLocaleString(),")")),r.a.createElement("td",null,n.deaths.toLocaleString(),r.a.createElement("span",null,"(",(n.deaths-a.deaths).toLocaleString(),")")),r.a.createElement("td",null,o.toFixed(2),"%"),r.a.createElement("td",null,n.recovered.toLocaleString(),r.a.createElement("span",null,"(",(n.recovered-a.recovered).toLocaleString(),")")),r.a.createElement("td",null,c.toFixed(2),"%"),r.a.createElement("td",null,s.toLocaleString(),r.a.createElement("span",null,"(",d.toLocaleString(),")")),r.a.createElement("td",null,i.toFixed(2),"%"))};J.displayName="CountryRow",J.propTypes={index:O.a.number.isRequired,model:B};var Z,ee;!function(e){e[e.COUNTRY_ASC=0]="COUNTRY_ASC",e[e.COUNTRY_DESC=1]="COUNTRY_DESC",e[e.CONFIRMED_ASC=2]="CONFIRMED_ASC",e[e.CONFIRMED_DESC=3]="CONFIRMED_DESC",e[e.DEATHS_ASC=4]="DEATHS_ASC",e[e.DEATHS_DESC=5]="DEATHS_DESC",e[e.DEATHS_RATIO_ASC=6]="DEATHS_RATIO_ASC",e[e.DEATHS_RATIO_DESC=7]="DEATHS_RATIO_DESC",e[e.RECOVERED_ASC=8]="RECOVERED_ASC",e[e.RECOVERED_DESC=9]="RECOVERED_DESC",e[e.RECOVERED_RATIO_ASC=10]="RECOVERED_RATIO_ASC",e[e.RECOVERED_RATIO_DESC=11]="RECOVERED_RATIO_DESC",e[e.ACTIVE_ASC=12]="ACTIVE_ASC",e[e.ACTIVE_DESC=13]="ACTIVE_DESC",e[e.ACTIVE_RATIO_ASC=14]="ACTIVE_RATIO_ASC",e[e.ACTIVE_RATIO_DESC=15]="ACTIVE_RATIO_DESC"}(Z||(Z={})),function(e){e[e.COUNTRY=0]="COUNTRY",e[e.CONFIRMED=1]="CONFIRMED",e[e.DEATHS=2]="DEATHS",e[e.DEATHS_RATIO=3]="DEATHS_RATIO",e[e.RECOVERED=4]="RECOVERED",e[e.RECOVERED_RATIO=5]="RECOVERED_RATIO",e[e.ACTIVE=6]="ACTIVE",e[e.ACTIVE_RATIO=7]="ACTIVE_RATIO"}(ee||(ee={}));class te extends n.Component{constructor(e){super(e),this.state={width:window.innerWidth,sort:Z.CONFIRMED_DESC},this.resizeListener=this.resizeListener.bind(this)}resizeListener(){this.setState(Object.assign(Object.assign({},this.state),{width:window.innerWidth}))}componentDidMount(){window.addEventListener("resize",this.resizeListener)}componentWillUnmount(){window.removeEventListener("resize",this.resizeListener)}sort(e,t){const a=e.values[e.values.length-1],n=t.values[t.values.length-1],r=a.confirmed-a.deaths-a.recovered,l=n.confirmed-n.deaths-n.recovered;"Canada"!==e.country&&"Canada"!==t.country||"Recovered"===e.state||t.state;const s=a.confirmed?a.deaths/a.confirmed*100:0,o=a.confirmed?a.recovered/a.confirmed*100:0,c=a.confirmed?r/a.confirmed*100:0,i=n.confirmed?n.deaths/n.confirmed*100:0,d=n.confirmed?n.recovered/n.confirmed*100:0,E=n.confirmed?l/n.confirmed*100:0;switch(this.state.sort){case Z.ACTIVE_ASC:return r-l;case Z.ACTIVE_DESC:return l-r;case Z.ACTIVE_RATIO_ASC:return c-E;case Z.ACTIVE_RATIO_DESC:return E-c;case Z.CONFIRMED_ASC:return a.confirmed-n.confirmed;case Z.CONFIRMED_DESC:return n.confirmed-a.confirmed;case Z.DEATHS_ASC:return a.deaths-n.deaths;case Z.DEATHS_DESC:return n.deaths-a.deaths;case Z.DEATHS_RATIO_ASC:return s-i;case Z.DEATHS_RATIO_DESC:return i-s;case Z.RECOVERED_ASC:return a.recovered-n.recovered;case Z.RECOVERED_DESC:return n.recovered-a.recovered;case Z.RECOVERED_RATIO_ASC:return o-d;case Z.RECOVERED_RATIO_DESC:return d-o;case Z.COUNTRY_DESC:return t.country.localeCompare(e.country);case Z.COUNTRY_ASC:default:return e.country.localeCompare(t.country)}}changeSort(e){let t=Z.CONFIRMED_DESC;switch(e){case ee.COUNTRY:t=this.state.sort===Z.COUNTRY_ASC?Z.COUNTRY_DESC:Z.COUNTRY_ASC;break;case ee.CONFIRMED:t=this.state.sort===Z.CONFIRMED_DESC?Z.CONFIRMED_ASC:Z.CONFIRMED_DESC;break;case ee.DEATHS:t=this.state.sort===Z.DEATHS_DESC?Z.DEATHS_ASC:Z.DEATHS_DESC;break;case ee.DEATHS_RATIO:t=this.state.sort===Z.DEATHS_RATIO_DESC?Z.DEATHS_RATIO_ASC:Z.DEATHS_RATIO_DESC;break;case ee.RECOVERED:t=this.state.sort===Z.RECOVERED_DESC?Z.RECOVERED_ASC:Z.RECOVERED_DESC;break;case ee.RECOVERED_RATIO:t=this.state.sort===Z.RECOVERED_RATIO_DESC?Z.RECOVERED_RATIO_ASC:Z.RECOVERED_RATIO_DESC;break;case ee.ACTIVE:t=this.state.sort===Z.ACTIVE_DESC?Z.ACTIVE_ASC:Z.ACTIVE_DESC;break;case ee.ACTIVE_RATIO:t=this.state.sort===Z.ACTIVE_RATIO_DESC?Z.ACTIVE_RATIO_ASC:Z.ACTIVE_RATIO_DESC;break;default:t=this.state.sort===Z.CONFIRMED_DESC?Z.CONFIRMED_ASC:Z.CONFIRMED_DESC}this.setState(Object.assign(Object.assign({},this.state),{sort:t}))}get header(){return r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",{onClick:()=>{this.changeSort(ee.COUNTRY)}},"Country/Region"),r.a.createElement("th",{onClick:()=>{this.changeSort(ee.CONFIRMED)}},"Confirmed"),r.a.createElement("th",{onClick:()=>{this.changeSort(ee.DEATHS)}},"Deaths"),r.a.createElement("th",{onClick:()=>{this.changeSort(ee.DEATHS_RATIO)}},"%"),r.a.createElement("th",{onClick:()=>{this.changeSort(ee.RECOVERED)}},"Recovered"),r.a.createElement("th",{onClick:()=>{this.changeSort(ee.RECOVERED_RATIO)}},"%"),r.a.createElement("th",{onClick:()=>{this.changeSort(ee.ACTIVE)}},"Active"),r.a.createElement("th",{onClick:()=>{this.changeSort(ee.ACTIVE_RATIO)}},"%")))}get body(){const e=new $(this.props.model).sort((e,t)=>this.sort(e,t)).map((e,t)=>r.a.createElement(J,{model:e,key:t,index:t+1}));return r.a.createElement("tbody",null,e)}get footer(){return r.a.createElement("tfoot",null,r.a.createElement("tr",null,r.a.createElement("td",null),r.a.createElement("td",null,"Country/Region"),r.a.createElement("td",null,"Confirmed"),r.a.createElement("td",null,"Deaths"),r.a.createElement("td",null,"%"),r.a.createElement("td",null,"Recovered"),r.a.createElement("td",null,"%"),r.a.createElement("td",null,"Active"),r.a.createElement("td",null,"%")))}render(){return this.props.model&&this.props.model.length?r.a.createElement("div",{className:K},r.a.createElement("h1",null,"World"),r.a.createElement("table",null,this.header,this.body,this.footer)):r.a.createElement(r.a.Fragment,null)}}te.displayName="Countries",te.propTypes={model:O.a.arrayOf(B).isRequired};const ae=Object(c.c)(e=>({model:e.model})),ne=({model:e})=>{const t=e.length?r.a.createElement(te,{model:e}):r.a.createElement("h1",null,"Loading...");return r.a.createElement(Q,null,r.a.createElement("div",{className:D},t))};ne.displayName="IndexPageComponent",ne.propTypes={model:O.a.arrayOf(B).isRequired};const re=ae(ne);var le="_2qg7IMpNfTZ-PI1-DsLvlj",se="_3PvpfmC7da5HzPw4gCpBNd";class oe extends n.PureComponent{constructor(e){super(e),this.state={width:window.innerWidth},this.resizeListener=this.resizeListener.bind(this)}resizeListener(){this.setState(Object.assign(Object.assign({},this.state),{width:window.innerWidth}))}componentDidMount(){window.addEventListener("resize",this.resizeListener)}componentWillUnmount(){window.removeEventListener("resize",this.resizeListener)}get header(){return r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",null,"Confirmed"),r.a.createElement("th",null,"Deaths"),r.a.createElement("th",null,"%"),r.a.createElement("th",null,"Recovered"),r.a.createElement("th",null,"%"),r.a.createElement("th",null,"Active"),r.a.createElement("th",null,"%")))}get body(){const e=this.props.model.values.map((e,t,a)=>{const n=t?a[t-1]:e,l=e,s=n.confirmed-n.deaths-n.recovered,o=l.confirmed-l.deaths-l.recovered,c=l.confirmed?l.deaths/l.confirmed*100:0,i=l.confirmed?l.recovered/l.confirmed*100:0,d=l.confirmed?o/l.confirmed*100:0,E=l.confirmed-n.confirmed,m=l.deaths-n.deaths,u=l.recovered-n.recovered,h=o-s;return r.a.createElement("tr",{key:t},r.a.createElement("td",null,new Date(e.timestamp).toUTCString().replace(/\s00:00:00.*/,"")),r.a.createElement("td",null,e.confirmed.toLocaleString(),r.a.createElement("span",null,"(",E.toLocaleString(),")")),r.a.createElement("td",null,e.deaths.toLocaleString(),r.a.createElement("span",null,"(",m.toLocaleString(),")")),r.a.createElement("td",null,c.toFixed(2),"%"),r.a.createElement("td",null,e.recovered.toLocaleString(),r.a.createElement("span",null,"(",u.toLocaleString(),")")),r.a.createElement("td",null,i.toFixed(2),"%"),r.a.createElement("td",null,o.toLocaleString(),r.a.createElement("span",null,"(",h.toLocaleString(),")")),r.a.createElement("td",null,d.toFixed(2),"%"))});return r.a.createElement("tbody",null,e)}get footer(){return r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",null),r.a.createElement("td",null,"Confirmed"),r.a.createElement("td",null,"Deaths"),r.a.createElement("td",null,"%"),r.a.createElement("td",null,"Recovered"),r.a.createElement("td",null,"%"),r.a.createElement("td",null,"Active"),r.a.createElement("td",null,"%")))}render(){const e=new $([]);return r.a.createElement("div",{className:se},r.a.createElement("h1",null,e.name(this.props.model)),r.a.createElement("table",null,this.header,this.body,this.footer))}}oe.displayName="Country",oe.propTypes={model:B};const ce=Object(c.c)(e=>({model:e.model}));class ie extends n.PureComponent{render(){const e=this.props.match.params.country,t=this.props.match.params.state,a=new $(this.props.model).find(e,t);if(this.props.model&&this.props.model.length&&!a)return r.a.createElement(i.a,{to:"/"});const n=a?r.a.createElement(oe,{model:a}):r.a.createElement("h1",null,"Loading...");return r.a.createElement(Q,null,r.a.createElement("div",{className:le},n))}}ie.displayName="IndexPageComponent",ie.propTypes={model:O.a.arrayOf(B).isRequired};const de=ce(ie);const Ee=()=>r.a.createElement(c.a,{store:Object(d.e)(_,Object(d.d)(Object(d.a)(Object(E.a)(R),Object(h.a)(),C.a,u.logger)))},r.a.createElement(o.a,{history:R},r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/",exact:!0,component:re}),r.a.createElement(i.b,{path:"/:country/:state",component:de}),r.a.createElement(i.b,{path:"/:country",component:de}),r.a.createElement(i.a,{to:"/"}))));Ee.displayName="Application";var me=a(23),ue=a(32);document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector("#app");e?(me.b.add(ue.faCloudDownloadAlt),me.a.watch(),e.className=s,Object(l.render)(r.a.createElement(Ee,null),e)):console.error(Error("Element with selector '#app' not found"))})}},[[44,1,2]]]);